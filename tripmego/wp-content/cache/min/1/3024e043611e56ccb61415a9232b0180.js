"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);var lmp_update_state;(function($){$(document).ready(function(){var lmp_is_loading=!1,lmp_loading_style;if($(the_lmp_js_data.products).length>0){$(the_lmp_js_data.products).after($(the_lmp_js_data.load_more));current_style();$(window).resize(function(){current_style()});$(window).scroll(function(){if(lmp_loading_style=='infinity_scroll'){var products_bottom=$(the_lmp_js_data.products).offset().top+$(the_lmp_js_data.products).height()-the_lmp_js_data.buffer;var bottom_position=$(window).scrollTop()+$(window).height();if(products_bottom<bottom_position&&!lmp_is_loading){load_next_page()}}});$(document).on('click','.lmp_button',function(event){event.preventDefault();load_next_page()});if(!the_lmp_js_data.is_AAPF){$(document).on('click',the_lmp_js_data.pagination+' a',function(event){event.preventDefault();load_next_page(!0,$(this).attr('href'))})}}
function load_next_page(replace,user_next_page){if(typeof(replace)=='undefined'){user_next_page=!1}
if(typeof(user_next_page)=='undefined'){user_next_page=!1}
var $next_page=$(the_lmp_js_data.next_page);if($next_page.length>0||user_next_page!==!1){start_ajax_loading()
var next_page;if(user_next_page!==!1){next_page=user_next_page}else{next_page=$next_page.attr('href')}
$.get(next_page,function(data){var $data=$(data);if(the_lmp_js_data.lazy_load_m&&$(window).width()<=the_lmp_js_data.mobile_width||the_lmp_js_data.lazy_load&&$(window).width()>the_lmp_js_data.mobile_width){$data.find(the_lmp_js_data.item+', .berocket_lgv_additional_data').find('img').each(function(i,o){$(o).attr('data-src',$(o).attr('src')).removeAttr('src')});$data.find(the_lmp_js_data.item+', .berocket_lgv_additional_data').addClass('lazy')}
var $products=$data.find(the_lmp_js_data.products).html();if(replace){$(the_lmp_js_data.products).html($products)}else{$(the_lmp_js_data.products).append($products)}
if(the_lmp_js_data.lazy_load_m&&$(window).width()<=the_lmp_js_data.mobile_width||the_lmp_js_data.lazy_load&&$(window).width()>the_lmp_js_data.mobile_width){$(the_lmp_js_data.products+' .lazy').find('img').lazyLoadXT();$(the_lmp_js_data.products).find('.lazy').on('lazyshow',function(){$(this).removeClass('lazy').addClass('animated').addClass(the_lmp_js_data.LLanimation);if(!$(this).is('.berocket_lgv_additional_data')){$(this).next('.berocket_lgv_additional_data').removeClass('lazy').addClass('animated').addClass(the_lmp_js_data.LLanimation)}})}
var $pagination=$data.find(the_lmp_js_data.pagination);$(the_lmp_js_data.pagination).html($pagination.html());current_style();end_ajax_loading()})}}
function start_ajax_loading(){lmp_is_loading=!0;lmp_execute_func(the_lmp_js_data.javascript.before_update);$(the_lmp_js_data.products).append($(the_lmp_js_data.load_image))}
function end_ajax_loading(){$(the_lmp_js_data.load_img_class).remove();lmp_execute_func(the_lmp_js_data.javascript.after_update);lmp_is_loading=!1;var $next_page=$(the_lmp_js_data.next_page);if((lmp_loading_style=='infinity_scroll'||lmp_loading_style=='more_button')&&$next_page.length<=0){$(the_lmp_js_data.products).append($(the_lmp_js_data.end_text))}}
function current_style(){if($(the_lmp_js_data.next_page).length>0){$('.lmp_button').attr('href',$(the_lmp_js_data.next_page).attr('href'))}
if(the_lmp_js_data.use_mobile&&$(window).width()<=the_lmp_js_data.mobile_width){set_style(the_lmp_js_data.mobile_type)}else{set_style(the_lmp_js_data.type)}}
function set_style(style){var $next_page=$(the_lmp_js_data.next_page);$(the_lmp_js_data.pagination).hide();$('.lmp_load_more_button').hide();if(style=='more_button'){if($next_page.length>0){$('.lmp_load_more_button').show()}else{setTimeout(test_next_page,4000)}}else if(style=='pagination'){$(the_lmp_js_data.pagination).show()}
lmp_loading_style=style}
function test_next_page(){var $next_page=$(the_lmp_js_data.next_page);if($next_page.length>0){current_style()}else{setTimeout(test_next_page,4000)}}
lmp_update_state=function(){current_style()}})})(jQuery);function lmp_execute_func(func){if(the_lmp_js_data.javascript!='undefined'&&the_lmp_js_data.javascript!=null&&typeof func!='undefined'&&func.length>0){try{eval(func)}catch(err){alert('You have some incorrect JavaScript code (Load More Products)')}}};(function($){var jprp={response:null,getEndpointURL:function(URL){var locationObject,is_customizer='undefined'!==typeof wp&&wp.customize&&wp.customize.settings&&wp.customize.settings.url&&wp.customize.settings.url.self;if(is_customizer){locationObject=document.createElement('a');locationObject.href=wp.customize.settings.url.self}else{locationObject=document.location}
if('string'===typeof(URL)&&URL.match(/^https?:\/\//)){locationObject=document.createElement('a');locationObject.href=URL}
var args='relatedposts=1';if($('#jp-relatedposts').data('exclude')){args+='&relatedposts_exclude='+$('#jp-relatedposts').data('exclude')}
if(is_customizer){args+='&jetpackrpcustomize=1'}
var pathname=locationObject.pathname;if('/'!==pathname[0]){pathname='/'+pathname}
if(''===locationObject.search){return pathname+'?'+args}else{return pathname+locationObject.search+'&'+args}},getAnchor:function(post,classNames){var anchor_title=post.title;if(''!==(''+post.excerpt)){anchor_title+='\n\n'+post.excerpt}
var anchor=$('<a>');anchor.attr({'class':classNames,'href':post.url,'title':anchor_title,'rel':post.rel,'data-origin':post.url_meta.origin,'data-position':post.url_meta.position});var anchor_html=$('<div>').append(anchor).html();return[anchor_html.substring(0,anchor_html.length-4),'</a>']},generateMinimalHtml:function(posts,options){var self=this;var html='';$.each(posts,function(index,post){var anchor=self.getAnchor(post,'jp-relatedposts-post-a');var classes='jp-relatedposts-post jp-relatedposts-post'+index;if(post.classes.length>0){classes+=' '+post.classes.join(' ')}
html+='<p class="'+classes+'" data-post-id="'+post.id+'" data-post-format="'+post.format+'">';html+='<span class="jp-relatedposts-post-title">'+anchor[0]+post.title+anchor[1]+'</span>';if(options.showDate){html+='<span class="jp-relatedposts-post-date">'+post.date+'</span>'}
if(options.showContext){html+='<span class="jp-relatedposts-post-context">'+post.context+'</span>'}
html+='</p>'});return '<div class="jp-relatedposts-items jp-relatedposts-items-minimal jp-relatedposts-'+options.layout+' ">'+html+'</div>'},generateVisualHtml:function(posts,options){var self=this;var html='';$.each(posts,function(index,post){var anchor=self.getAnchor(post,'jp-relatedposts-post-a');var classes='jp-relatedposts-post jp-relatedposts-post'+index;if(post.classes.length>0){classes+=' '+post.classes.join(' ')}
if(!post.img.src){classes+=' jp-relatedposts-post-nothumbs'}else{classes+=' jp-relatedposts-post-thumbs'}
html+='<div class="'+classes+'" data-post-id="'+post.id+'" data-post-format="'+post.format+'">';if(post.img.src){html+=anchor[0]+'<img class="jp-relatedposts-post-img" src="'+post.img.src+'" width="'+post.img.width+'" alt="'+post.title+'" />'+anchor[1]}else{var anchor_overlay=self.getAnchor(post,'jp-relatedposts-post-a jp-relatedposts-post-aoverlay');html+=anchor_overlay[0]+anchor_overlay[1]}
html+='<'+related_posts_js_options.post_heading+' class="jp-relatedposts-post-title">'+anchor[0]+post.title+anchor[1]+'</'+related_posts_js_options.post_heading+'>';html+='<p class="jp-relatedposts-post-excerpt">'+$('<p>').text(post.excerpt).html()+'</p>';if(options.showDate){html+='<p class="jp-relatedposts-post-date">'+post.date+'</p>'}
if(options.showContext){html+='<p class="jp-relatedposts-post-context">'+post.context+'</p>'}
html+='</div>'});return '<div class="jp-relatedposts-items jp-relatedposts-items-visual jp-relatedposts-'+options.layout+' ">'+html+'</div>'},setVisualExcerptHeights:function(){var elements=$('#jp-relatedposts .jp-relatedposts-post-nothumbs .jp-relatedposts-post-excerpt');if(0>=elements.length){return}
var fontSize=parseInt(elements.first().css('font-size'),10),lineHeight=parseInt(elements.first().css('line-height'),10);elements.css('max-height',(5*lineHeight/fontSize)+'em')},getTrackedUrl:function(anchor){var args='relatedposts_hit=1';args+='&relatedposts_origin='+$(anchor).data('origin');args+='&relatedposts_position='+$(anchor).data('position');var pathname=anchor.pathname;if('/'!==pathname[0]){pathname='/'+pathname}
if(''===anchor.search){return pathname+'?'+args}else{return pathname+anchor.search+'&'+args}},cleanupTrackedUrl:function(){if('function'!==typeof history.replaceState){return}
var cleaned_search=document.location.search.replace(/\brelatedposts_[a-z]+=[0-9]*&?\b/gi,'');if('?'===cleaned_search){cleaned_search=''}
if(document.location.search!==cleaned_search){history.replaceState({},document.title,document.location.pathname+cleaned_search)}}};function startRelatedPosts(){jprp.cleanupTrackedUrl();var endpointURL=jprp.getEndpointURL(),$relatedPosts=$('#jp-relatedposts');$.getJSON(endpointURL,function(response){if(0===response.items.length||0===$relatedPosts.length){return}
jprp.response=response;var html,showThumbnails,options={};if('undefined'!==typeof wp&&wp.customize){showThumbnails=wp.customize.instance('jetpack_relatedposts[show_thumbnails]').get();options.showDate=wp.customize.instance('jetpack_relatedposts[show_date]').get();options.showContext=wp.customize.instance('jetpack_relatedposts[show_context]').get();options.layout=wp.customize.instance('jetpack_relatedposts[layout]').get()}else{showThumbnails=response.show_thumbnails;options.showDate=response.show_date;options.showContext=response.show_context;options.layout=response.layout}
html=!showThumbnails?jprp.generateMinimalHtml(response.items,options):jprp.generateVisualHtml(response.items,options);$relatedPosts.append(html);jprp.setVisualExcerptHeights();if(options.showDate){$relatedPosts.find('.jp-relatedposts-post-date').show()}
$relatedPosts.show();$('#jp-relatedposts a.jp-relatedposts-post-a').click(function(){this.href=jprp.getTrackedUrl(this)})})}
$(function(){if('undefined'!==typeof wp&&wp.customize){if(wp.customize.selectiveRefresh){wp.customize.selectiveRefresh.bind('partial-content-rendered',function(placement){if('jetpack_relatedposts'===placement.partial.id){startRelatedPosts()}})}
wp.customize.bind('preview-ready',startRelatedPosts)}else{startRelatedPosts()}})})(jQuery);(function($){$.widget('ui.tagit',{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:'tags',placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:',',singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var that=this;if(this.element.is('input')){this.tagList=$('<ul></ul>').insertAfter(this.element);this.options.singleField=!0;this.options.singleFieldNode=this.element;this.element.addClass('tagit-hidden-field')}else{this.tagList=this.element.find('ul, ol').andSelf().last()}
this.tagInput=$('<input type="text" />').addClass('ui-widget-content');if(this.options.readOnly)this.tagInput.attr('disabled','disabled');if(this.options.tabIndex){this.tagInput.attr('tabindex',this.options.tabIndex)}
if(this.options.placeholderText){this.tagInput.attr('placeholder',this.options.placeholderText)}
if(!this.options.autocomplete.source){this.options.autocomplete.source=function(search,showChoices){var filter=search.term.toLowerCase();var choices=$.grep(this.options.availableTags,function(element){return(element.toLowerCase().indexOf(filter)===0)});if(!this.options.allowDuplicates){choices=this._subtractArray(choices,this.assignedTags())}
showChoices(choices)}}
if(this.options.showAutocompleteOnFocus){this.tagInput.focus(function(event,ui){that._showAutocomplete()});if(typeof this.options.autocomplete.minLength==='undefined'){this.options.autocomplete.minLength=0}}
if($.isFunction(this.options.autocomplete.source)){this.options.autocomplete.source=$.proxy(this.options.autocomplete.source,this)}
if($.isFunction(this.options.tagSource)){this.options.tagSource=$.proxy(this.options.tagSource,this)}
this.tagList.addClass('tagit').addClass('ui-widget ui-widget-content ui-corner-all').append($('<li class="tagit-new"></li>').append(this.tagInput)).click(function(e){var target=$(e.target);if(target.hasClass('tagit-label')){var tag=target.closest('.tagit-choice');if(!tag.hasClass('removed')){that._trigger('onTagClicked',e,{tag:tag,tagLabel:that.tagLabel(tag)})}}else{that.tagInput.focus()}});var addedExistingFromSingleFieldNode=!1;if(this.options.singleField){if(this.options.singleFieldNode){var node=$(this.options.singleFieldNode);var tags=node.val().split(this.options.singleFieldDelimiter);node.val('');$.each(tags,function(index,tag){that.createTag(tag,null,!0);addedExistingFromSingleFieldNode=!0})}else{this.options.singleFieldNode=$('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />');this.tagList.after(this.options.singleFieldNode)}}
if(!addedExistingFromSingleFieldNode){this.tagList.children('li').each(function(){if(!$(this).hasClass('tagit-new')){that.createTag($(this).text(),$(this).attr('class'),!0);$(this).remove()}})}
this.tagInput.keydown(function(event){if(event.which==$.ui.keyCode.BACKSPACE&&that.tagInput.val()===''){var tag=that._lastTag();if(!that.options.removeConfirmation||tag.hasClass('remove')){that.removeTag(tag)}else if(that.options.removeConfirmation){tag.addClass('remove ui-state-highlight')}}else if(that.options.removeConfirmation){that._lastTag().removeClass('remove ui-state-highlight')}
if((event.which===$.ui.keyCode.COMMA&&event.shiftKey===!1)||event.which===$.ui.keyCode.ENTER||(event.which==$.ui.keyCode.TAB&&that.tagInput.val()!=='')||(event.which==$.ui.keyCode.SPACE&&that.options.allowSpaces!==!0&&($.trim(that.tagInput.val()).replace(/^s*/,'').charAt(0)!='"'||($.trim(that.tagInput.val()).charAt(0)=='"'&&$.trim(that.tagInput.val()).charAt($.trim(that.tagInput.val()).length-1)=='"'&&$.trim(that.tagInput.val()).length-1!==0)))){if(!(event.which===$.ui.keyCode.ENTER&&that.tagInput.val()==='')){event.preventDefault()}
if(!(that.options.autocomplete.autoFocus&&that.tagInput.data('autocomplete-open'))){that.tagInput.autocomplete('close');that.createTag(that._cleanedInput())}}}).blur(function(e){if(!that.tagInput.data('autocomplete-open')){that.createTag(that._cleanedInput())}});if(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source){var autocompleteOptions={select:function(event,ui){that.createTag(ui.item.value);return!1}};$.extend(autocompleteOptions,this.options.autocomplete);autocompleteOptions.source=this.options.tagSource||autocompleteOptions.source;this.tagInput.autocomplete(autocompleteOptions).bind('autocompleteopen.tagit',function(event,ui){that.tagInput.data('autocomplete-open',!0)}).bind('autocompleteclose.tagit',function(event,ui){that.tagInput.data('autocomplete-open',!1)});this.tagInput.autocomplete('widget').addClass('tagit-autocomplete')}},destroy:function(){$.Widget.prototype.destroy.call(this);this.element.unbind('.tagit');this.tagList.unbind('.tagit');this.tagInput.removeData('autocomplete-open');this.tagList.removeClass(['tagit','ui-widget','ui-widget-content','ui-corner-all','tagit-hidden-field'].join(' '));if(this.element.is('input')){this.element.removeClass('tagit-hidden-field');this.tagList.remove()}else{this.element.children('li').each(function(){if($(this).hasClass('tagit-new')){$(this).remove()}else{$(this).removeClass(['tagit-choice','ui-widget-content','ui-state-default','ui-state-highlight','ui-corner-all','remove','tagit-choice-editable','tagit-choice-read-only'].join(' '));$(this).text($(this).children('.tagit-label').text())}});if(this.singleFieldNode){this.singleFieldNode.remove()}}
return this},_cleanedInput:function(){return $.trim(this.tagInput.val().replace(/^"(.*)"$/,'$1'))},_lastTag:function(){return this.tagList.find('.tagit-choice:last:not(.removed)')},_tags:function(){return this.tagList.find('.tagit-choice:not(.removed)')},assignedTags:function(){var that=this;var tags=[];if(this.options.singleField){tags=$(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter);if(tags[0]===''){tags=[]}}else{this._tags().each(function(){tags.push(that.tagLabel(this))})}
return tags},_updateSingleTagsField:function(tags){$(this.options.singleFieldNode).val(tags.join(this.options.singleFieldDelimiter)).trigger('change')},_subtractArray:function(a1,a2){var result=[];for(var i=0;i<a1.length;i++){if($.inArray(a1[i],a2)==-1){result.push(a1[i])}}
return result},tagLabel:function(tag){if(this.options.singleField){return $(tag).find('.tagit-label:first').text()}else{return $(tag).find('input:first').val()}},_showAutocomplete:function(){this.tagInput.autocomplete('search','')},_findTagByLabel:function(name){var that=this;var tag=null;this._tags().each(function(i){if(that._formatStr(name)==that._formatStr(that.tagLabel(this))){tag=$(this);return!1}});return tag},_isNew:function(name){return!this._findTagByLabel(name)},_formatStr:function(str){if(this.options.caseSensitive){return str}
return $.trim(str.toLowerCase())},_effectExists:function(name){return Boolean($.effects&&($.effects[name]||($.effects.effect&&$.effects.effect[name])))},createTag:function(value,additionalClass,duringInitialization){var that=this;value=$.trim(value);if(this.options.preprocessTag){value=this.options.preprocessTag(value)}
if(value===''){return!1}
if(!this.options.allowDuplicates&&!this._isNew(value)){var existingTag=this._findTagByLabel(value);if(this._trigger('onTagExists',null,{existingTag:existingTag,duringInitialization:duringInitialization})!==!1){if(this._effectExists('highlight')){existingTag.effect('highlight')}}
return!1}
if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit){this._trigger('onTagLimitExceeded',null,{duringInitialization:duringInitialization});return!1}
var label=$(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(value);var tag=$('<li></li>').addClass('tagit-choice ui-widget-content ui-state-default ui-corner-all').addClass(additionalClass).append(label);if(this.options.readOnly){tag.addClass('tagit-choice-read-only')}else{tag.addClass('tagit-choice-editable');var removeTagIcon=$('<span></span>').addClass('ui-icon ui-icon-close');var removeTag=$('<a><span class="text-icon">\xd7</span></a>').addClass('tagit-close').append(removeTagIcon).click(function(e){that.removeTag(tag)});tag.append(removeTag)}
if(!this.options.singleField){var escapedValue=label.html();tag.append('<input type="hidden" value="'+escapedValue+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />')}
if(this._trigger('beforeTagAdded',null,{tag:tag,tagLabel:this.tagLabel(tag),duringInitialization:duringInitialization})===!1){return}
if(this.options.singleField){var tags=this.assignedTags();tags.push(value);this._updateSingleTagsField(tags)}
this._trigger('onTagAdded',null,tag);this.tagInput.val('');this.tagInput.parent().before(tag);this._trigger('afterTagAdded',null,{tag:tag,tagLabel:this.tagLabel(tag),duringInitialization:duringInitialization});if(this.options.showAutocompleteOnFocus&&!duringInitialization){setTimeout(function(){that._showAutocomplete()},0)}},removeTag:function(tag,animate){animate=typeof animate==='undefined'?this.options.animate:animate;tag=$(tag);this._trigger('onTagRemoved',null,tag);if(this._trigger('beforeTagRemoved',null,{tag:tag,tagLabel:this.tagLabel(tag)})===!1){return}
if(this.options.singleField){var tags=this.assignedTags();var removedTagLabel=this.tagLabel(tag);tags=$.grep(tags,function(el){return el!=removedTagLabel});this._updateSingleTagsField(tags)}
if(animate){tag.addClass('removed');var hide_args=this._effectExists('blind')?['blind',{direction:'horizontal'},'fast']:['fast'];var thisTag=this;hide_args.push(function(){tag.remove();thisTag._trigger('afterTagRemoved',null,{tag:tag,tagLabel:thisTag.tagLabel(tag)})});tag.fadeOut('fast').hide.apply(tag,hide_args).dequeue()}else{tag.remove();this._trigger('afterTagRemoved',null,{tag:tag,tagLabel:this.tagLabel(tag)})}},removeTagByLabel:function(tagLabel,animate){var toRemove=this._findTagByLabel(tagLabel);if(!toRemove){throw "No such tag exists with the name '"+tagLabel+"'"}
this.removeTag(toRemove,animate)},removeAll:function(){var that=this;this._tags().each(function(index,tag){that.removeTag(tag,!1)})}})})(jQuery);(function($){$(function(){$('.ap-autocomplete').each(function(){var auto_complete_tags=$(this).data('autocomplete-terms');var auto_complete_tags_array=auto_complete_tags.split(',');$(this).tagit({availableTags:auto_complete_tags_array,singleField:!0,singleFieldNode:$(this)})})})}(jQuery));var qq=qq||{};qq.extend=function(first,second){for(var prop in second){first[prop]=second[prop]}};qq.indexOf=function(arr,elt,from){if(arr.indexOf)return arr.indexOf(elt,from);from=from||0;var len=arr.length;if(from<0)from+=len;for(;from<len;from++){if(from in arr&&arr[from]===elt){return from}}
return-1};qq.getUniqueId=(function(){var id=0;return function(){return id++}})();qq.ie=function(){return navigator.userAgent.indexOf('MSIE')!=-1}
qq.safari=function(){return navigator.vendor!=undefined&&navigator.vendor.indexOf("Apple")!=-1}
qq.chrome=function(){return navigator.vendor!=undefined&&navigator.vendor.indexOf('Google')!=-1}
qq.firefox=function(){return(navigator.userAgent.indexOf('Mozilla')!=-1&&navigator.vendor!=undefined&&navigator.vendor=='')}
qq.windows=function(){return navigator.platform=="Win32"}
qq.attach=function(element,type,fn){if(element.addEventListener){element.addEventListener(type,fn,!1)}else if(element.attachEvent){element.attachEvent('on'+type,fn)}
return function(){qq.detach(element,type,fn)}};qq.detach=function(element,type,fn){if(element.removeEventListener){element.removeEventListener(type,fn,!1)}else if(element.attachEvent){element.detachEvent('on'+type,fn)}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=!1}};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)};qq.remove=function(element){element.parentNode.removeChild(element)};qq.contains=function(parent,descendant){if(parent==descendant)return!0;if(parent.contains){return parent.contains(descendant)}else{return!!(descendant.compareDocumentPosition(parent)&8)}};qq.toElement=(function(){var div=document.createElement('div');return function(html){div.innerHTML=html;var element=div.firstChild;div.removeChild(element);return element}})();qq.css=function(element,styles){if(styles.opacity!=null){if(typeof element.style.opacity!='string'&&typeof(element.filters)!='undefined'){styles.filter='alpha(opacity='+Math.round(100*styles.opacity)+')'}}
qq.extend(element.style,styles)};qq.hasClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');return re.test(element.className)};qq.addClass=function(element,name){if(!qq.hasClass(element,name)){element.className+=' '+name}};qq.removeClass=function(element,name){var re=new RegExp('(^| )'+name+'( |$)');element.className=element.className.replace(re,' ').replace(/^\s+|\s+$/g,"")};qq.setText=function(element,text){element.innerText=text;element.textContent=text};qq.children=function(element){var children=[],child=element.firstChild;while(child){if(child.nodeType==1){children.push(child)}
child=child.nextSibling}
return children};qq.getByClass=function(element,className){if(element.querySelectorAll){return element.querySelectorAll('.'+className)}
var result=[];var candidates=element.getElementsByTagName("*");var len=candidates.length;for(var i=0;i<len;i++){if(qq.hasClass(candidates[i],className)){result.push(candidates[i])}}
return result};qq.obj2url=function(obj,temp,prefixDone){var uristrings=[],prefix='&',add=function(nextObj,i){var nextTemp=temp?(/\[\]$/.test(temp))?temp:temp+'['+i+']':i;if((nextTemp!='undefined')&&(i!='undefined')){uristrings.push((typeof nextObj==='object')?qq.obj2url(nextObj,nextTemp,!0):(Object.prototype.toString.call(nextObj)==='[object Function]')?encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj()):encodeURIComponent(nextTemp)+'='+encodeURIComponent(nextObj))}};if(!prefixDone&&temp){prefix=(/\?/.test(temp))?(/\?$/.test(temp))?'':'&':'?';uristrings.push(temp);uristrings.push(qq.obj2url(obj))}else if((Object.prototype.toString.call(obj)==='[object Array]')&&(typeof obj!='undefined')){for(var i=0,len=obj.length;i<len;++i){add(obj[i],i)}}else if((typeof obj!='undefined')&&(obj!==null)&&(typeof obj==="object")){for(var i in obj){add(obj[i],i)}}else{uristrings.push(encodeURIComponent(temp)+'='+encodeURIComponent(obj))}
return uristrings.join(prefix).replace(/^&/,'').replace(/%20/g,'+')};var qq=qq||{};qq.FileUploaderBasic=function(o){this._options={debug:!1,action:'/server/upload',params:{},customHeaders:{},button:null,multiple:!0,maxConnections:3,allowedExtensions:[],acceptFiles:null,sizeLimit:0,minSizeLimit:0,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){},onCancel:function(id,fileName){},onUpload:function(id,fileName,xhr){},onError:function(id,fileName,xhr){},messages:{typeError:"Unfortunately, the file(s) you selected weren't the type we were expecting.  {file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message)},inputName:'qqfile',extraDropzones:[]};qq.extend(this._options,o);qq.extend(this,qq.DisposeSupport);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button)}
this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function(params){this._options.params=params},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(element){var self=this;var button=new qq.UploadButton({element:element,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),acceptFiles:this._options.acceptFiles,onChange:function(input){self._onInputChange(input)}});this.addDisposer(function(){button.dispose()});return button},_createUploadHandler:function(){var self=this,handlerClass;if(qq.UploadHandlerXhr.isSupported()){handlerClass='UploadHandlerXhr'}else{handlerClass='UploadHandlerForm'}
var handler=new qq[handlerClass]({debug:this._options.debug,action:this._options.action,encoding:this._options.encoding,maxConnections:this._options.maxConnections,customHeaders:this._options.customHeaders,inputName:this._options.inputName,extraDropzones:this._options.extraDropzones,onProgress:function(id,fileName,loaded,total){self._onProgress(id,fileName,loaded,total);self._options.onProgress(id,fileName,loaded,total)},onComplete:function(id,fileName,result){self._onComplete(id,fileName,result);self._options.onComplete(id,fileName,result)},onCancel:function(id,fileName){self._onCancel(id,fileName);self._options.onCancel(id,fileName)},onError:self._options.onError,onUpload:function(id,fileName,xhr){self._onUpload(id,fileName,xhr);self._options.onUpload(id,fileName,xhr)}});return handler},_preventLeaveInProgress:function(){var self=this;this._attach(window,'beforeunload',function(e){if(!self._filesInProgress){return}
var e=e||window.event;e.returnValue=self._options.messages.onLeave;return self._options.messages.onLeave})},_onSubmit:function(id,fileName){this._filesInProgress++},_onProgress:function(id,fileName,loaded,total){},_onComplete:function(id,fileName,result){this._filesInProgress--;if(result.error){this._options.showMessage(result.error)}},_onCancel:function(id,fileName){this._filesInProgress--},_onUpload:function(id,fileName,xhr){},_onInputChange:function(input){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(input.files)}else{if(this._validateFile(input)){this._uploadFile(input)}}
this._button.reset()},_uploadFileList:function(files){for(var i=0;i<files.length;i++){if(!this._validateFile(files[i])){return}}
for(var i=0;i<files.length;i++){this._uploadFile(files[i])}},_uploadFile:function(fileContainer){var id=this._handler.add(fileContainer);var fileName=this._handler.getName(id);if(this._options.onSubmit(id,fileName)!==!1){this._onSubmit(id,fileName);this._handler.upload(id,this._options.params)}},_validateFile:function(file){var name,size;if(file.value){name=file.value.replace(/.*(\/|\\)/,"")}else{name=(file.fileName!==null&&file.fileName!==undefined)?file.fileName:file.name;size=(file.fileSize!==null&&file.fileSize!==undefined)?file.fileSize:file.size}
if(!this._isAllowedExtension(name)){this._error('typeError',name);return!1}else if(size===0){this._error('emptyError',name);return!1}else if(size&&this._options.sizeLimit&&size>this._options.sizeLimit){this._error('sizeError',name);return!1}else if(size&&size<this._options.minSizeLimit){this._error('minSizeError',name);return!1}
return!0},_error:function(code,fileName){var message=this._options.messages[code];function r(name,replacement){message=message.replace(name,replacement)}
r('{file}',this._formatFileName(fileName));r('{extensions}',this._options.allowedExtensions.join(', '));r('{sizeLimit}',this._formatSize(this._options.sizeLimit));r('{minSizeLimit}',this._formatSize(this._options.minSizeLimit));this._options.showMessage(message)},_formatFileName:function(name){if(name.length>33){name=name.slice(0,19)+'...'+name.slice(-13)}
return name},_isAllowedExtension:function(fileName){var ext=(-1!==fileName.indexOf('.'))?fileName.replace(/.*[.]/,'').toLowerCase():'';var allowed=this._options.allowedExtensions;if(!allowed.length){return!0}
for(var i=0;i<allowed.length;i++){if(allowed[i].toLowerCase()==ext){return!0}}
return!1},_formatSize:function(bytes){var i=-1;do{bytes=bytes/1024;i++}while(bytes>99);return Math.max(bytes,0.1).toFixed(1)+['kB','MB','GB','TB','PB','EB'][i]}};qq.FileUploader=function(o){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,dragText:'Drop files here to upload',uploadButtonText:'Upload a file',cancelButtonText:'Cancel',failUploadText:'Upload failed',template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>{dragText}</span></div>'+'<div class="qq-upload-button">{uploadButtonText}</div>'+'<ul class="qq-upload-list"></ul>'+'</div>',fileTemplate:'<li>'+'<span class="qq-progress-bar"></span>'+'<span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">{cancelButtonText}</a>'+'<span class="qq-upload-failed-text">{failUploadtext}</span>'+'</li>',classes:{button:'qq-upload-button',drop:'qq-upload-drop-area',dropActive:'qq-upload-drop-area-active',dropDisabled:'qq-upload-drop-area-disabled',list:'qq-upload-list',progressBar:'qq-progress-bar',file:'qq-upload-file',spinner:'qq-upload-spinner',size:'qq-upload-size',cancel:'qq-upload-cancel',success:'qq-upload-success',fail:'qq-upload-fail'}});qq.extend(this._options,o);this._options.template=this._options.template.replace(/\{dragText\}/g,this._options.dragText);this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.uploadButtonText);this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.cancelButtonText);this._options.fileTemplate=this._options.fileTemplate.replace(/\{failUploadtext\}/g,this._options.failUploadText);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,'list');this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,'button'));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{addExtraDropzone:function(element){this._setupExtraDropzone(element)},removeExtraDropzone:function(element){var dzs=this._options.extraDropzones;for(var i in dzs)if(dzs[i]===element)return this._options.extraDropzones.splice(i,1);},_leaving_document_out:function(e){return((qq.chrome()||(qq.safari()&&qq.windows()))&&e.clientX==0&&e.clientY==0)||(qq.firefox()&&!e.relatedTarget)},_find:function(parent,type){var element=qq.getByClass(parent,this._options.classes[type])[0];if(!element){throw new Error('element not found '+type)}
return element},_setupExtraDropzone:function(element){this._options.extraDropzones.push(element);this._setupDropzone(element)},_setupDropzone:function(dropArea){var self=this;var dz=new qq.UploadDropZone({element:dropArea,onEnter:function(e){qq.addClass(dropArea,self._classes.dropActive);e.stopPropagation()},onLeave:function(e){},onLeaveNotDescendants:function(e){qq.removeClass(dropArea,self._classes.dropActive)},onDrop:function(e){dropArea.style.display='none';qq.removeClass(dropArea,self._classes.dropActive);self._uploadFileList(e.dataTransfer.files)}});this.addDisposer(function(){dz.dispose()});dropArea.style.display='none'},_setupDragDrop:function(){var dropArea=this._find(this._element,'drop');var self=this;this._options.extraDropzones.push(dropArea);var dropzones=this._options.extraDropzones;var i;for(i=0;i<dropzones.length;i++){this._setupDropzone(dropzones[i])}
if(!qq.ie()){this._attach(document,'dragenter',function(e){if(!self._isValidFileDrag(e))return;if(qq.hasClass(dropArea,self._classes.dropDisabled))return;dropArea.style.display='block';for(i=0;i<dropzones.length;i++){dropzones[i].style.display='block'}})}
this._attach(document,'dragleave',function(e){var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(qq.FileUploader.prototype._leaving_document_out(e)){for(i=0;i<dropzones.length;i++){dropzones[i].style.display='none'}}});qq.attach(document,'drop',function(e){for(i=0;i<dropzones.length;i++){dropzones[i].style.display='none'}
e.preventDefault()})},_onSubmit:function(id,fileName){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(id,fileName)},_onProgress:function(id,fileName,loaded,total){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var item=this._getItemByFileId(id);var size=this._find(item,'size');size.style.display='inline';var text;var percent=Math.round(loaded/total*100);if(loaded!=total){text=percent+'% from '+this._formatSize(total)}else{text=this._formatSize(total)}
this._find(item,'progressBar').style.width=percent+'%';qq.setText(size,text)},_onComplete:function(id,fileName,result){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var item=this._getItemByFileId(id);qq.remove(this._find(item,'cancel'));qq.remove(this._find(item,'spinner'));qq.remove(item);if(result.success){qq.addClass(item,this._classes.success)}else{qq.addClass(item,this._classes.fail)}},_addToList:function(id,fileName){var item=qq.toElement(this._options.fileTemplate);item.qqFileId=id;var fileElement=this._find(item,'file');qq.setText(fileElement,this._formatFileName(fileName));this._find(item,'size').style.display='none';if(!this._options.multiple)this._clearList();this._listElement.appendChild(item)},_clearList:function(){this._listElement.innerHTML=''},_getItemByFileId:function(id){var item=this._listElement.firstChild;while(item){if(item.qqFileId==id)return item;item=item.nextSibling}},_bindCancelEvent:function(){var self=this,list=this._listElement;this._attach(list,'click',function(e){e=e||window.event;var target=e.target||e.srcElement;if(qq.hasClass(target,self._classes.cancel)){qq.preventDefault(e);var item=target.parentNode;self._handler.cancel(item.qqFileId);qq.remove(item)}})}});qq.UploadDropZone=function(o){this._options={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}};qq.extend(this._options,o);qq.extend(this,qq.DisposeSupport);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_dragover_should_be_canceled:function(){return qq.safari()||(qq.firefox()&&qq.windows())},_disableDropOutside:function(e){if(!qq.UploadDropZone.dropOutsideDisabled){if(this._dragover_should_be_canceled){qq.attach(document,'dragover',function(e){e.preventDefault()})}else{qq.attach(document,'dragover',function(e){if(e.dataTransfer){e.dataTransfer.dropEffect='none';e.preventDefault()}})}
qq.UploadDropZone.dropOutsideDisabled=!0}},_attachEvents:function(){var self=this;self._attach(self._element,'dragover',function(e){if(!self._isValidFileDrag(e))return;var effect=qq.ie()?null:e.dataTransfer.effectAllowed;if(effect=='move'||effect=='linkMove'){e.dataTransfer.dropEffect='move'}else{e.dataTransfer.dropEffect='copy'}
e.stopPropagation();e.preventDefault()});self._attach(self._element,'dragenter',function(e){if(!self._isValidFileDrag(e))return;self._options.onEnter(e)});self._attach(self._element,'dragleave',function(e){if(!self._isValidFileDrag(e))return;self._options.onLeave(e);var relatedTarget=document.elementFromPoint(e.clientX,e.clientY);if(qq.contains(this,relatedTarget))return;self._options.onLeaveNotDescendants(e)});self._attach(self._element,'drop',function(e){if(!self._isValidFileDrag(e))return;e.preventDefault();self._options.onDrop(e)})},_isValidFileDrag:function(e){if(qq.ie())return!1;var dt=e.dataTransfer,isSafari=qq.safari();return dt&&dt.effectAllowed!='none'&&(dt.files||(!isSafari&&dt.types.contains&&dt.types.contains('Files')))}};qq.UploadButton=function(o){this._options={element:null,multiple:!1,acceptFiles:null,name:'file',onChange:function(input){},hoverClass:'qq-upload-button-hover',focusClass:'qq-upload-button-focus'};qq.extend(this._options,o);qq.extend(this,qq.DisposeSupport);this._element=this._options.element;qq.css(this._element,{position:'relative',overflow:'hidden',direction:'ltr'});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){if(this._input.parentNode){qq.remove(this._input)}
qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var input=document.createElement("input");if(this._options.multiple){input.setAttribute("multiple","multiple")}
if(this._options.acceptFiles)input.setAttribute("accept",this._options.acceptFiles);input.setAttribute("type","file");input.setAttribute("name",this._options.name);qq.css(input,{position:'absolute',right:0,top:0,fontFamily:'Arial',fontSize:'118px',margin:0,padding:0,cursor:'pointer',opacity:0});this._element.appendChild(input);var self=this;this._attach(input,'change',function(){self._options.onChange(input)});this._attach(input,'mouseover',function(){qq.addClass(self._element,self._options.hoverClass)});this._attach(input,'mouseout',function(){qq.removeClass(self._element,self._options.hoverClass)});this._attach(input,'focus',function(){qq.addClass(self._element,self._options.focusClass)});this._attach(input,'blur',function(){qq.removeClass(self._element,self._options.focusClass)});if(window.attachEvent){input.setAttribute('tabIndex',"-1")}
return input}};qq.UploadHandlerAbstract=function(o){this._options={debug:!1,action:'/upload.php',maxConnections:999,onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,response){},onCancel:function(id,fileName){},onUpload:function(id,fileName,xhr){}};qq.extend(this._options,o);this._queue=[];this._params=[]};qq.UploadHandlerAbstract.prototype={log:function(str){if(this._options.debug&&window.console)console.log('[uploader] '+str)},add:function(file){},upload:function(id,params){var len=this._queue.push(id);var copy={};qq.extend(copy,params);this._params[id]=copy;if(len<=this._options.maxConnections){this._upload(id,this._params[id])}},cancel:function(id){this._cancel(id);this._dequeue(id)},cancelAll:function(){for(var i=0;i<this._queue.length;i++){this._cancel(this._queue[i])}
this._queue=[]},getName:function(id){},getSize:function(id){},getQueue:function(){return this._queue},_upload:function(id){},_cancel:function(id){},_dequeue:function(id){var i=qq.indexOf(this._queue,id);this._queue.splice(i,1);var max=this._options.maxConnections;if(this._queue.length>=max&&i<max){var nextId=this._queue[max-1];this._upload(nextId,this._params[nextId])}}};qq.UploadHandlerForm=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(fileInput){fileInput.setAttribute('name',this._options.inputName);var id='qq-upload-handler-iframe'+qq.getUniqueId();this._inputs[id]=fileInput;if(fileInput.parentNode){qq.remove(fileInput)}
return id},getName:function(id){return this._inputs[id].value.replace(/.*(\/|\\)/,"")},_cancel:function(id){this._options.onCancel(id,this.getName(id));delete this._inputs[id];var iframe=document.getElementById(id);if(iframe){iframe.setAttribute('src','javascript:false;');qq.remove(iframe)}},_upload:function(id,params){this._options.onUpload(id,this.getName(id),!1);var input=this._inputs[id];if(!input){throw new Error('file with passed id was not added, or already uploaded or cancelled')}
var fileName=this.getName(id);var iframe=this._createIframe(id);var form=this._createForm(iframe,params);form.appendChild(input);var self=this;this._attachLoadEvent(iframe,function(){self.log('iframe loaded');var response=self._getIframeContentJSON(iframe);self._options.onComplete(id,fileName,response);self._dequeue(id);delete self._inputs[id];setTimeout(function(){self._detach_event();qq.remove(iframe)},1)});form.submit();qq.remove(form);return id},_attachLoadEvent:function(iframe,callback){this._detach_event=qq.attach(iframe,'load',function(){if(!iframe.parentNode){return}
if(iframe.contentDocument&&iframe.contentDocument.body&&iframe.contentDocument.body.innerHTML=="false"){return}
callback()})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;var innerHTML=doc.body.innerHTML;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+innerHTML);if(innerHTML.slice(0,5).toLowerCase()=='<pre>'&&innerHTML.slice(-6).toLowerCase()=='</pre>'){innerHTML=doc.body.firstChild.firstChild.nodeValue}
try{response=eval("("+innerHTML+")")}catch(err){response={}}
return response},_createIframe:function(id){var iframe=qq.toElement('<iframe src="javascript:false;" name="'+id+'" />');iframe.setAttribute('id',id);iframe.style.display='none';document.body.appendChild(iframe);return iframe},_createForm:function(iframe,params){var form=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');var queryString=qq.obj2url(params,this._options.action);form.setAttribute('action',queryString);form.setAttribute('target',iframe.name);form.style.display='none';document.body.appendChild(form);return form}});qq.UploadHandlerXhr=function(o){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var input=document.createElement('input');input.type='file';return('multiple' in input&&typeof File!="undefined"&&typeof FormData!="undefined"&&typeof(new XMLHttpRequest()).upload!="undefined")};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype)
qq.extend(qq.UploadHandlerXhr.prototype,{add:function(file){if(!(file instanceof File)){throw new Error('Passed obj in not a File (in qq.UploadHandlerXhr)')}
return this._files.push(file)-1},getName:function(id){var file=this._files[id];return(file.fileName!==null&&file.fileName!==undefined)?file.fileName:file.name},getSize:function(id){var file=this._files[id];return file.fileSize!=null?file.fileSize:file.size},getLoaded:function(id){return this._loaded[id]||0},_upload:function(id,params){this._options.onUpload(id,this.getName(id),!0);var file=this._files[id],name=this.getName(id),size=this.getSize(id);this._loaded[id]=0;var xhr=this._xhrs[id]=new XMLHttpRequest();var self=this;xhr.upload.onprogress=function(e){if(e.lengthComputable){self._loaded[id]=e.loaded;self._options.onProgress(id,name,e.loaded,e.total)}};xhr.onreadystatechange=function(){if(xhr.readyState==4){self._onComplete(id,xhr)}};params=params||{};params[this._options.inputName]=name;var queryString=qq.obj2url(params,this._options.action);xhr.open("POST",queryString,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("X-File-Name",encodeURIComponent(name));if(this._options.encoding=='multipart'){var formData=new FormData();formData.append(name,file);file=formData}else{xhr.setRequestHeader("Content-Type","application/octet-stream");xhr.setRequestHeader("X-Mime-Type",file.type)}
for(key in this._options.customHeaders){xhr.setRequestHeader(key,this._options.customHeaders[key])};xhr.send(file)},_onComplete:function(id,xhr){if(!this._files[id])return;var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(err){response={}}
this._options.onComplete(id,name,response)}else{this._options.onError(id,name,xhr);this._options.onComplete(id,name,{})}
this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)},_cancel:function(id){this._options.onCancel(id,this.getName(id));this._files[id]=null;if(this._xhrs[id]){this._xhrs[id].abort();this._xhrs[id]=null}}});qq.DisposeSupport={_disposers:[],dispose:function(){var disposer;while(disposer=this._disposers.shift()){disposer()}},addDisposer:function(disposeFunction){this._disposers.push(disposeFunction)},_attach:function(){this.addDisposer(qq.attach.apply(this,arguments))}};(function(){var $=jQuery;var LightboxOptions=(function(){function LightboxOptions(){this.fadeDuration=500;this.fitImagesInViewport=!0;this.resizeDuration=700;this.positionFromTop=50;this.showImageNumberLabel=!0;this.alwaysShowNavOnTouchDevices=!1;this.wrapAround=!1}
LightboxOptions.prototype.albumLabel=function(curImageNum,albumSize){return "Image "+curImageNum+" of "+albumSize};return LightboxOptions})();var Lightbox=(function(){function Lightbox(options){this.options=options;this.album=[];this.currentImageIndex=void 0;this.init()}
Lightbox.prototype.init=function(){this.enable();this.build()};Lightbox.prototype.enable=function(){var self=this;$('body').on('click','a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]',function(event){self.start($(event.currentTarget));return!1})};Lightbox.prototype.build=function(){var self=this;$("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo($('body'));this.$lightbox=$('#lightbox');this.$overlay=$('#lightboxOverlay');this.$outerContainer=this.$lightbox.find('.lb-outerContainer');this.$container=this.$lightbox.find('.lb-container');this.containerTopPadding=parseInt(this.$container.css('padding-top'),10);this.containerRightPadding=parseInt(this.$container.css('padding-right'),10);this.containerBottomPadding=parseInt(this.$container.css('padding-bottom'),10);this.containerLeftPadding=parseInt(this.$container.css('padding-left'),10);this.$overlay.hide().on('click',function(){self.end();return!1});this.$lightbox.hide().on('click',function(event){if($(event.target).attr('id')==='lightbox'){self.end()}
return!1});this.$outerContainer.on('click',function(event){if($(event.target).attr('id')==='lightbox'){self.end()}
return!1});this.$lightbox.find('.lb-prev').on('click',function(){if(self.currentImageIndex===0){self.changeImage(self.album.length-1)}else{self.changeImage(self.currentImageIndex-1)}
return!1});this.$lightbox.find('.lb-next').on('click',function(){if(self.currentImageIndex===self.album.length-1){self.changeImage(0)}else{self.changeImage(self.currentImageIndex+1)}
return!1});this.$lightbox.find('.lb-loader, .lb-close').on('click',function(){self.end();return!1})};Lightbox.prototype.start=function($link){var self=this;var $window=$(window);$window.on('resize',$.proxy(this.sizeOverlay,this));$('select, object, embed').css({visibility:"hidden"});this.sizeOverlay();this.album=[];var imageNumber=0;function addToAlbum($link){self.album.push({link:$link.attr('href'),title:$link.attr('data-title')||$link.attr('title')})}
var dataLightboxValue=$link.attr('data-lightbox');var $links;if(dataLightboxValue){$links=$($link.prop("tagName")+'[data-lightbox="'+dataLightboxValue+'"]');for(var i=0;i<$links.length;i=++i){addToAlbum($($links[i]));if($links[i]===$link[0]){imageNumber=i}}}else{if($link.attr('rel')==='lightbox'){addToAlbum($link)}else{$links=$($link.prop("tagName")+'[rel="'+$link.attr('rel')+'"]');for(var j=0;j<$links.length;j=++j){addToAlbum($($links[j]));if($links[j]===$link[0]){imageNumber=j}}}}
var top=$window.scrollTop()+this.options.positionFromTop;var left=$window.scrollLeft();this.$lightbox.css({top:top+'px',left:left+'px'}).fadeIn(this.options.fadeDuration);this.changeImage(imageNumber)};Lightbox.prototype.changeImage=function(imageNumber){var self=this;this.disableKeyboardNav();var $image=this.$lightbox.find('.lb-image');this.$overlay.fadeIn(this.options.fadeDuration);$('.lb-loader').fadeIn('slow');this.$lightbox.find('.lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption').hide();this.$outerContainer.addClass('animating');var preloader=new Image();preloader.onload=function(){var $preloader,imageHeight,imageWidth,maxImageHeight,maxImageWidth,windowHeight,windowWidth;$image.attr('src',self.album[imageNumber].link);$preloader=$(preloader);$image.width(preloader.width);$image.height(preloader.height);if(self.options.fitImagesInViewport){windowWidth=$(window).width();windowHeight=$(window).height();maxImageWidth=windowWidth-self.containerLeftPadding-self.containerRightPadding-20;maxImageHeight=windowHeight-self.containerTopPadding-self.containerBottomPadding-120;if((preloader.width>maxImageWidth)||(preloader.height>maxImageHeight)){if((preloader.width/maxImageWidth)>(preloader.height/maxImageHeight)){imageWidth=maxImageWidth;imageHeight=parseInt(preloader.height/(preloader.width/imageWidth),10);$image.width(imageWidth);$image.height(imageHeight)}else{imageHeight=maxImageHeight;imageWidth=parseInt(preloader.width/(preloader.height/imageHeight),10);$image.width(imageWidth);$image.height(imageHeight)}}}
self.sizeContainer($image.width(),$image.height())};preloader.src=this.album[imageNumber].link;this.currentImageIndex=imageNumber};Lightbox.prototype.sizeOverlay=function(){this.$overlay.width($(window).width()).height($(document).height())};Lightbox.prototype.sizeContainer=function(imageWidth,imageHeight){var self=this;var oldWidth=this.$outerContainer.outerWidth();var oldHeight=this.$outerContainer.outerHeight();var newWidth=imageWidth+this.containerLeftPadding+this.containerRightPadding;var newHeight=imageHeight+this.containerTopPadding+this.containerBottomPadding;function postResize(){self.$lightbox.find('.lb-dataContainer').width(newWidth);self.$lightbox.find('.lb-prevLink').height(newHeight);self.$lightbox.find('.lb-nextLink').height(newHeight);self.showImage()}
if(oldWidth!==newWidth||oldHeight!==newHeight){this.$outerContainer.animate({width:newWidth,height:newHeight},this.options.resizeDuration,'swing',function(){postResize()})}else{postResize()}};Lightbox.prototype.showImage=function(){this.$lightbox.find('.lb-loader').hide();this.$lightbox.find('.lb-image').fadeIn('slow');this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};Lightbox.prototype.updateNav=function(){var alwaysShowNav=!1;try{document.createEvent("TouchEvent");alwaysShowNav=(this.options.alwaysShowNavOnTouchDevices)?true:!1}catch(e){}
this.$lightbox.find('.lb-nav').show();if(this.album.length>1){if(this.options.wrapAround){if(alwaysShowNav){this.$lightbox.find('.lb-prev, .lb-next').css('opacity','1')}
this.$lightbox.find('.lb-prev, .lb-next').show()}else{if(this.currentImageIndex>0){this.$lightbox.find('.lb-prev').show();if(alwaysShowNav){this.$lightbox.find('.lb-prev').css('opacity','1')}}
if(this.currentImageIndex<this.album.length-1){this.$lightbox.find('.lb-next').show();if(alwaysShowNav){this.$lightbox.find('.lb-next').css('opacity','1')}}}}};Lightbox.prototype.updateDetails=function(){var self=this;if(typeof this.album[this.currentImageIndex].title!=='undefined'&&this.album[this.currentImageIndex].title!==""){this.$lightbox.find('.lb-caption').html(this.album[this.currentImageIndex].title).fadeIn('fast').find('a').on('click',function(event){location.href=$(this).attr('href')})}
if(this.album.length>1&&this.options.showImageNumberLabel){this.$lightbox.find('.lb-number').text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn('fast')}else{this.$lightbox.find('.lb-number').hide()}
this.$outerContainer.removeClass('animating');this.$lightbox.find('.lb-dataContainer').fadeIn(this.options.resizeDuration,function(){return self.sizeOverlay()})};Lightbox.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var preloadNext=new Image();preloadNext.src=this.album[this.currentImageIndex+1].link}
if(this.currentImageIndex>0){var preloadPrev=new Image();preloadPrev.src=this.album[this.currentImageIndex-1].link}};Lightbox.prototype.enableKeyboardNav=function(){$(document).on('keyup.keyboard',$.proxy(this.keyboardAction,this))};Lightbox.prototype.disableKeyboardNav=function(){$(document).off('.keyboard')};Lightbox.prototype.keyboardAction=function(event){var KEYCODE_ESC=27;var KEYCODE_LEFTARROW=37;var KEYCODE_RIGHTARROW=39;var keycode=event.keyCode;var key=String.fromCharCode(keycode).toLowerCase();if(keycode===KEYCODE_ESC||key.match(/x|o|c/)){this.end()}else if(key==='p'||keycode===KEYCODE_LEFTARROW){if(this.currentImageIndex!==0){this.changeImage(this.currentImageIndex-1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(this.album.length-1)}}else if(key==='n'||keycode===KEYCODE_RIGHTARROW){if(this.currentImageIndex!==this.album.length-1){this.changeImage(this.currentImageIndex+1)}else if(this.options.wrapAround&&this.album.length>1){this.changeImage(0)}}};Lightbox.prototype.end=function(){this.disableKeyboardNav();$(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);$('select, object, embed').css({visibility:"visible"})};return Lightbox})();$(function(){var options=new LightboxOptions();var lightbox=new Lightbox(options)})}).call(this);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(g=a("img[usemap='#"+f+"']")[0],!!g&&c(g))):(/^(input|select|textarea|button|object)$/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.ui=a.ui||{},a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({scrollParent:function(b){var c=this.css("position"),d="absolute"===c,e=b?/(auto|scroll|hidden)/:/(auto|scroll)/,f=this.parents().filter(function(){var b=a(this);return(!d||"static"!==b.css("position"))&&e.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&f.length?f:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function d(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e="Width"===c?["Left","Right"]:["Top","Bottom"],f=c.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?g["inner"+c].call(this):this.each(function(){a(this).css(f,d(this,b)+"px")})},a.fn["outer"+c]=function(b,e){return"number"!=typeof b?g["outer"+c].call(this,b):this.each(function(){a(this).css(f,d(this,b,!0,e)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length)for(var c,d,e=a(this[0]);e.length&&e[0]!==document;){if(c=e.css("position"),("absolute"===c||"relative"===c||"fixed"===c)&&(d=parseInt(e.css("zIndex"),10),!isNaN(d)&&0!==d))return d;e=e.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}});;!function(a){"function"==typeof define&&define.amd?define(["jquery","./core"],a):a(jQuery)}(function(a){function b(a){for(var b,c;a.length&&a[0]!==document;){if(b=a.css("position"),("absolute"===b||"relative"===b||"fixed"===b)&&(c=parseInt(a.css("zIndex"),10),!isNaN(c)&&0!==c))return c;a=a.parent()}return 0}function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.regional.en=a.extend(!0,{},this.regional[""]),this.regional["en-US"]=a.extend(!0,{},this.regional.en),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",e)}function e(){a.datepicker._isDisabledDatepicker(g.inline?g.dpDiv.parent()[0]:g.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&a(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&a(this).addClass("ui-datepicker-next-hover"))}function f(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.11.4"}});var g;return a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),"focus"!==d&&"both"!==d||b.focus(this._showDatepicker),"button"!==d&&"both"!==d||(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,g){var h,i,j,k,l,m=this._dialogInst;return m||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),m=this._dialogInst=this._newInst(this._dialogInput,!1),m.settings={},a.data(this._dialogInput[0],"datepicker",m)),f(m.settings,e||{}),c=c&&c.constructor===Date?this._formatDate(m,c):c,this._dialogInput.val(c),this._pos=g?g.length?g:[g.pageX,g.pageY]:null,this._pos||(i=document.documentElement.clientWidth,j=document.documentElement.clientHeight,k=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[i/2-100+k,j/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),m.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",m),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty(),g===e&&(g=null))},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==c&&"span"!==c||(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(b,c,d){var e,g,h,i,j=this._getInst(b);return 2===arguments.length&&"string"==typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):j?"all"===c?a.extend({},j.settings):this._get(j,c):null:(e=c||{},"string"==typeof c&&(e={},e[c]=d),void(j&&(this._curInst===j&&this._hideDatepicker(),g=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(j,"min"),i=this._getMinMaxDate(j,"max"),f(j.settings,e),null!==h&&void 0!==e.dateFormat&&void 0===e.minDate&&(j.settings.minDate=this._formatDate(j,h)),null!==i&&void 0!==e.dateFormat&&void 0===e.maxDate&&(j.settings.maxDate=this._formatDate(j,i)),"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),j),this._autoSize(j),this._setDate(j,g),this._updateAlternate(j),this._updateDatepicker(j))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);if(a.datepicker._get(e,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||d<" "||!c||c.indexOf(d)>-1},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(c){if(c=c.target||c,"input"!==c.nodeName.toLowerCase()&&(c=a("input",c.parentNode)[0]),!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!==c){var d,e,g,h,i,j,k;d=a.datepicker._getInst(c),a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),e=a.datepicker._get(d,"beforeShow"),g=e?e.apply(c,[c,d]):{},g!==!1&&(f(d.settings,g),d.lastVal=null,a.datepicker._lastInput=c,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(c.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight),h=!1,a(c).parents().each(function(){return h|="fixed"===a(this).css("position"),!h}),i={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),i=a.datepicker._checkOffset(d,i,h),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":h?"fixed":"absolute",display:"none",left:i.left+"px",top:i.top+"px"}),d.inline||(j=a.datepicker._get(d,"showAnim"),k=a.datepicker._get(d,"duration"),d.dpDiv.css("z-index",b(a(c))+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[j]?d.dpDiv.show(j,a.datepicker._get(d,"showOptions"),k):d.dpDiv[j||"show"](j?k:null),a.datepicker._shouldFocusInput(d)&&d.input.focus(),a.datepicker._curInst=d))}},_updateDatepicker:function(b){this.maxRows=4,g=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),f=d[1],h=17,i=b.dpDiv.find("."+this._dayOverClass+" a");i.length>0&&e.apply(i.get(0)),b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",h*f+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,g=this._curInst;!g||b&&g!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(g,"showAnim"),d=this._get(g,"duration"),e=function(){a.datepicker._tidyDialog(g)},a.effects&&(a.effects.effect[c]||a.effects[c])?g.dpDiv.hide(c,a.datepicker._get(g,"showOptions"),d,e):g.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(g,"onClose"),f&&f.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id===a.datepicker._mainDivId||0!==c.parents("#"+a.datepicker._mainDivId).length||c.hasClass(a.datepicker.markerClassName)||c.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)&&(!c.hasClass(a.datepicker.markerClassName)||a.datepicker._curInst===d)||a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e="y"===a?d:1,f=new RegExp("^\\d{"+e+","+d+"}"),g=c.substring(i).match(f);if(!g)throw"Missing number at position "+i;return i+=g[0].length,parseInt(g[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];if(c.substr(i,d.length).toLowerCase()===d.toLowerCase())return f=b[0],i+=d.length,!1}),f!==-1)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(p===-1?p=(new Date).getFullYear():p<100&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(p<=k?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),r<=f)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,aa=a.drawYear;if(_<0&&(_+=12,aa--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&b<Z?Z:b;this._daylightSavingAdjust(new Date(aa,_,1))>b;)_--,_<0&&(_=11,aa--);for(a.drawMonth=_,a.drawYear=aa,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(aa,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,aa,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(aa,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,aa,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(aa,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,aa,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;v<7;v++)D=(v+k)%7,C+="<th scope='col'"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(aa,_),aa===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(aa,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(aa,_,1-F)),J=0;J<H;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;v<7;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&I<Z||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,aa++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;k<12;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";o<=p;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.11.4",a.datepicker});function check_form_submittable(form_id)
{if(jQuery('#'+form_id+' .ap-captcha-type').val()=='human')
{var error_message=jQuery('#'+form_id+' #ap-captcha-result').attr('data-required-msg');if(error_message=='')
{error_message=ap_captcha_error_message}
var first_num=jQuery('#'+form_id+' .ap-captcha-first-num').html();var second_num=jQuery('#'+form_id+' .ap-captcha-second-num').html();var result=parseInt(first_num)+parseInt(second_num);var user_result=jQuery('#'+form_id+' #ap-captcha-result').val();if(result==user_result)
{jQuery('#'+form_id+' .ap-front-loader').show();jQuery('#'+form_id+' input[type="submit"]').hide();return!0}else{jQuery('#'+form_id+' .ap-captcha-error-msg').html(error_message);return!1}
return!1}else if(jQuery('#'+form_id+' .ap-captcha-type').val()=='google')
{if(jQuery('#'+form_id+' .ap-captcha-version').val()=='v1'){challengeField=jQuery("input#recaptcha_challenge_field").val();responseField=jQuery("input#recaptcha_response_field").val();var html=jQuery.ajax({type:"POST",url:ap_fileuploader.upload_url,data:"action=ap_validate_recaptcha&recaptcha_challenge_field="+challengeField+"&recaptcha_response_field="+responseField+'&_wpnonce='+ap_fileuploader.nonce+'&form_id='+form_id,async:!1,beforeSend:function(xhr){jQuery('#'+form_id+' .ap-front-loader').show()}}).responseText;if(html=="success"){jQuery('#'+form_id+' .ap-front-loader').show();jQuery('#'+form_id+' input[type="submit"]').hide()}else{jQuery('#'+form_id+' .ap-front-loader').hide();var error_message=jQuery('#'+form_id+' .ap-captcha-error').attr('data-error-message');if(error_message=='')
{error_message=ap_captcha_error_message}
jQuery('#'+form_id+' .ap-captcha-error').html(error_message);Recaptcha.reload();return!1}}else{var captcha_val=jQuery('#g-recaptcha-response').val();if(captcha_val!=''){jQuery('#'+form_id+' .ap-front-loader').show();var response=jQuery.ajax({type:'POST',url:ap_fileuploader.upload_url,data:'captchaResponse='+captcha_val+'&action=ap_validate_recaptcha&form_id='+form_id+'&_wpnonce='+ap_fileuploader.nonce,async:!1,beforeSend:function(xhr){jQuery('#'+form_id+' .ap-front-loader').show()}}).responseText;if(response!='SPAM'){jQuery('#'+form_id+' .ap-front-loader').show();jQuery('#'+form_id+' input[type="submit"]').hide();return!0}else{jQuery('#'+form_id+' .ap-front-loader').hide();var error_message=jQuery('#'+form_id+' .ap-captcha-error').attr('data-error-message');if(error_message=='')
{error_message=ap_captcha_error_message}
jQuery('#'+form_id+' .ap-captcha-error').html(error_message);return!1}}else{var error_message=jQuery('#'+form_id+' .ap-captcha-error').attr('data-error-message');if(error_message=='')
{error_message=ap_captcha_error_message}
jQuery('#'+form_id+' .ap-captcha-error').html(error_message);return!1}}}else{jQuery('#'+form_id+' .ap-front-loader').show();jQuery('#'+form_id+' input[type="submit"]').hide();return!0}}
function validateEmail($email){var emailReg=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;if(!emailReg.test($email)){return!1}else{return!0}}(function($){$(function(){$('.ap-pro-front-form .ap-pro-submit-btn').click(function(){var error_flag=0;var id=$(this).closest('.ap-pro-front-form').attr('id');if($('#'+id+' .ap-form-wp-editor').length>0)
{tinyMCE.triggerSave();if($('#'+id+' .ap-character-limit-flag').length>0&&$('#'+id+' .ap-character-limit-flag').val()==1){error_flag=1}}
if($('#'+id+' .ap-form-content-editor').length>0)
{if($.trim($('#'+id+' .ap-form-content-editor').val())==''&&$('#'+id+' .ap-form-content-error').attr('data-required')=='required')
{error_flag=1;var error_msg=$('#'+id+' .ap-form-content-error').attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$('#'+id+' .ap-form-content-error').html(error_msg)}}
$('#'+id+' input').each(function(){if($(this).hasClass('ap-required-field')&&$.trim($(this).val())=='')
{error_flag=1;var error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}
if($(this).hasClass('ap-email-field')&&$.trim($(this).val()!=''))
{if(!validateEmail($(this).val()))
{error_flag=1;var error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}}
if($(this).attr('name')=='ap_form_post_image'&&$(this).val()!=''){var file=$(this).val();var file_array=file.split('\\');var filename=file_array.pop();var filename_array=filename.split('.');var extension=filename_array.pop();extension=extension.toLowerCase();if(!(extension=='jpg'||extension=='jpeg'||extension=='png'||extension=='gif')){error_flag=1;$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('Unsupported filetype')}}});$('#'+id+' textarea.ap-pro-textarea').each(function(){if($(this).hasClass('ap-required-field')&&$.trim($(this).val())=='')
{error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}});$('#'+id+' select').each(function(){if($(this).hasClass('ap-required-field')&&$.trim($(this).val())=='')
{error_flag=1;error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}});$('#'+id+' .ap-radio-wrap').each(function(){if($(this).hasClass('ap-required-field')&&$(this).find('input[type="radio"]:checked').length==0)
{error_flag=1;error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}});$('#'+id+' .ap-checkbox-wrap').each(function(){if($(this).hasClass('ap-required-field')&&$(this).find('input[type="checkbox"]:checked').length==0)
{error_flag=1;error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html(error_msg)}});if($('#'+id+' .ap-agreement-checkbox').length>0&&!$('#'+id+' .ap-agreement-checkbox').is(":checked"))
{error_flag=1;var error_msg=$('#'+id+' .ap-agreement-checkbox').attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$('#'+id+' .ap-agreement-error').html(error_msg)}
if(error_flag==1)
{$('#'+id+' .ap-form-error').each(function(){var selector=$(this);if(selector.html()!=''){$('html,body').animate({scrollTop:selector.closest('.ap-pro-form-field-wrapper').offset().top-100},'slow');return!1}});return!1}else{return!0}});$('.ap-pro-front-form input[type="text"]').keyup(function(){$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('')});$('.ap-pro-front-form textarea.ap-pro-textarea').keyup(function(){$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('')});$('.ap-form-content-editor').keyup(function(){$('.ap-form-content-error').html('')});$('.ap-pro-front-form select,.ap-pro-front-form input[type="checkbox"]').change(function(){$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('')});$('.ap-form-content-editor').change(function(){$('.ap-form-content-error').html('')});$('.ap-pro-datepicker').datepicker();$('.ap-pro-datepicker').each(function(){var date_format=$(this).data('date-format');date_format=(date_format)?date_format:'yy-mm-dd';$(this).datepicker("option","dateFormat",date_format)});$('.ap-agreement-checkbox').click(function(){if($(this).is(':checked'))
{$(this).closest('.ap-form-agreement-wrap').find('.ap-agreement-error').html('')}else{var error_msg=$(this).attr('data-required-msg');if(error_msg=='')
{error_msg=ap_form_required_message}
$(this).closest('.ap-form-agreement-wrap').find('.ap-agreement-error').html(error_msg)}});var uploader_counter=0;var uploader={};$('.ap-file-uploader').each(function(){var $selector=$(this);uploader_counter++;var attr_element_id=$(this).attr('id');var arr_element_id=attr_element_id.split('-');var element_id=arr_element_id[3];var extensions=$(this).attr('data-extensions');var extensions_array=extensions.split('|');var size=$(this).attr('data-size');var multiple_upload=$(this).attr('data-multiple');var limit_flag=0;var upload_limit=$(this).attr('data-upload-limit');var selector=$(this);var uploader_label=$(this).data('uploader-label');var upload_limit_message=$(this).data('upload-limit-message');var media_attachment=$(this).data('media-attachment');var custom_folder=$(this).data('cf');var upload_nonce=$('#ap_form_nonce').val();uploader['uploader'+uploader_counter]=new qq.FileUploader({element:document.getElementById('ap-file-uploader-'+uploader_counter),action:ap_fileuploader.upload_url,params:{action:'ap_file_upload_action',file_uploader_nonce:upload_nonce,allowedExtensions:extensions_array,sizeLimit:size,element_id:element_id,custom_folder:custom_folder},allowedExtensions:extensions_array,sizeLimit:size,minSizeLimit:500,uploadButtonText:uploader_label,onSubmit:function(id,fileName){if(multiple_upload==!0&&upload_limit!=-1){var limit_counter=selector.parent().find('.ap-pro-upload-counter').val();limit_counter++;selector.parent().find('.ap-pro-upload-counter').val(limit_counter);if(limit_counter>upload_limit){if(limit_flag==0){upload_limit_message=(upload_limit_message!='')?upload_limit_message:'Maximum number of files allowed is '+upload_limit;selector.parent().find('.ap-upload-limit-error').html(upload_limit_message);limit_flag=1}
selector.parent().find('.ap-pro-upload-counter').val(upload_limit);return!1}}},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){if(responseJSON.success)
{$('#ap-pro-file-url-'+element_id).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('');var extension_array=fileName.split('.');var extension=extension_array.pop();if(extension=='jpg'||extension=='jpeg'||extension=='png'||extension=='gif'||extension=='JPG'||extension=='JPEG'||extension=='PNG'||extension=='GIF'){var preview_html='<div class="ap-pro-prev-holder"><span class="ap-prev-name">'+fileName+'</span><img src="'+responseJSON.url+'" /><span class="ap-pro-preview-remove"  data-url="'+responseJSON.url+'" data-id="'+element_id+'" data-attachment-id="'+responseJSON.attachment_id+'" data-attachment-code="'+responseJSON.attachment_code+'">x</span></div>'}else{var preview_html='<div class="ap-pro-prev-holder"><span class="ap-prev-name">'+fileName+'</span><span class="ap-pro-preview-remove"  data-url="'+responseJSON.url+'" data-id="'+element_id+'" data-attachment-id="'+responseJSON.attachment_id+'" data-attachment-code="'+responseJSON.attachment_code+'">x</span></div>'}
if(multiple_upload)
{var url=responseJSON.url;var previous_url=$('#ap-pro-file-url-'+element_id).val();if(previous_url=='')
{$('#ap-pro-file-url-'+element_id).val(url)}else{$('#ap-pro-file-url-'+element_id).val(previous_url+','+url)}
$('#ap-pro-file-preview'+element_id).append(preview_html)}else{if($selector.hasClass('ap-post-image-uploader')){$('#ap-pro-file-url-'+element_id).val(responseJSON.attachment_id)}else{$('#ap-pro-file-url-'+element_id).val(responseJSON.url)}
$('#ap-pro-file-preview'+element_id).html(preview_html)}
if(media_attachment==1){var attachment_ids=selector.closest('form').find('.ap-attachment-ids').val();if(attachment_ids!=''){var attachment_ids_array=attachment_ids.split(',');attachment_ids_array.push(responseJSON.attachment_id);var attachment_ids=attachment_ids_array.join();selector.closest('form').find('.ap-attachment-ids').val(attachment_ids)}else{selector.closest('form').find('.ap-attachment-ids').val(responseJSON.attachment_id)}}}},onCancel:function(id,fileName){},onError:function(id,fileName,xhr){},messages:{typeError:" {file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message)},multiple:multiple_upload})});if($('.ap-content-file-uploader').length>0)
{$('.ap-content-file-uploader').each(function(){var id=$(this).attr('id');var link_source_url=$(this).data('link-source-url');var lightbox_rel_attr=$(this).data('lightbox-rel-attr');var uploadSizeLimit=$(this).attr('data-upload-size');var upload_nonce=$('#ap_form_nonce').val();var content_image_uploader=new qq.FileUploader({element:document.getElementById(id),action:ap_fileuploader.upload_url,params:{action:'ap_file_upload_action',file_uploader_nonce:upload_nonce,allowedExtensions:['jpg','png','gif','jpeg'],sizeLimit:uploadSizeLimit,},allowedExtensions:['jpg','png','gif','jpeg'],sizeLimit:uploadSizeLimit,minSizeLimit:500,onSubmit:function(id,fileName){},onProgress:function(id,fileName,loaded,total){},onComplete:function(id,fileName,responseJSON){if(responseJSON.success)
{tinyMCE.triggerSave();if(link_source_url==1){if(lightbox_rel_attr==1){var insert_content='<a href="'+responseJSON.url+'" rel="lightbox"><img src="'+responseJSON.url+'" class="size-full wp-image-'+responseJSON.attachment_id+'" alt="'+fileName+'"/></a>'}else{var insert_content='<a href="'+responseJSON.url+'"><img src="'+responseJSON.url+'" class="size-full wp-image-'+responseJSON.attachment_id+'" alt="'+fileName+'"/></a>'}}else{var insert_content='<img src="'+responseJSON.url+'" class="size-full wp-image-'+responseJSON.attachment_id+'" alt="'+fileName+'"/>'}
tinyMCE.activeEditor.execCommand('mceInsertContent',!1,insert_content);$('#ap-content-file-uploader .qq-upload-list').html('')}},onCancel:function(id,fileName){},onError:function(id,fileName,xhr){},messages:{typeError:" {file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(message){alert(message)},multiple:!1})})}
$('body').on('click','.ap-pro-preview-remove',function(){var selector=$(this);var ajax_url=ap_fileuploader.upload_url;var url=$(this).data('url');var id=$(this).data('id');var attachment_id=$(this).data('attachment-id');attachment_id=$.trim(attachment_id);var attachment_code=$(this).data('attachment-code');$.ajax({url:ajax_url,data:'action=ap_file_delete_action&_wpnonce='+ap_fileuploader.nonce+'&attachment_id='+attachment_id+'&attachment_code='+attachment_code,type:'post',success:function(res){if(res=='success'){var attachment_ids=selector.closest('form').find('.ap-attachment-ids').val();attachment_ids=$.trim(attachment_ids);var attachment_ids_array=attachment_ids.split(',');var attachment_index=attachment_ids_array.indexOf(attachment_id);if(attachment_index!=-1){attachment_ids_array.splice(attachment_index,1);var attachment_ids=attachment_ids_array.join();selector.closest('form').find('.ap-attachment-ids').val(attachment_ids)}
var prev_url=$('#ap-pro-file-url-'+id).val();var new_url=prev_url.replace(url,'');new_url=new_url.replace(',,',',');$('#ap-pro-file-url-'+id).val(new_url);var limit_counter=$('#ap-pro-upload-counter-'+id).val();limit_counter--;$('#ap-pro-upload-counter-'+id).val(limit_counter);selector.parent().fadeOut('1500',function(){selector.parent().remove()})}else{alert('No script kiddies please!')}}})});if($('.ap-pro-character-limit').length>0){var editor_char_limit=$('.ap-pro-character-limit').val();window.onload=function(){var char_limit_message=$('.ap-pro-character-limit-message').val();jQuery('.mce-statusbar').append('<span class="word-count-message">'+char_limit_message+'</span>');tinyMCE.activeEditor.onKeyUp.add(function(){$('.ap-form-content-error').html('');editor_content=this.getContent().replace(/(<[a-zA-Z\/][^<>]*>|\[([^\]]+)\])|(\s+)/ig,'');if(editor_content.length>editor_char_limit){jQuery('.mce-statusbar').addClass('toomanychars');$('.ap-character-limit-flag').val(1)}else{jQuery('.mce-statusbar').removeClass('toomanychars');$('.ap-character-limit-flag').val(0)}})}}
$('input[name="ap_form_post_image"]').change(function(){var file=$(this).val();var file_array=file.split('\\');var filename=file_array.pop();var filename_array=filename.split('.');var extension=filename_array.pop();if(!(extension=='jpg'||extension=='jpeg'||extension=='png'||extension=='gif'||extension=='JPG'||extension=='JPEG'||extension=='PNG'||extension=='GIF')){$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('Unsupported filetype')}else{$(this).closest('.ap-pro-form-field-wrapper').find('.ap-form-error').html('')}})})}(jQuery));jQuery(function($){$("#wc_bookings_field_resource").change(function(){var product_id=$("input[name='add-to-cart']").val();$.post(WooBookingsDropdown.ajax_url,{product_id:product_id,action:'wswp_refresh_dates',security:WooBookingsDropdown.secure,resource_id:$(this).val()},function(response){if(response.success){$("#wc_bookings_field_start_date").html('');$.each(response.dates,function(key,value){$("#wc_bookings_field_start_date").append("<option value='"+key+"'>"+value+"</option>")})}})})});jQuery(document).ready(function(){$container=jQuery('#wmle_container');$container.imagesLoaded(function(){$container.masonry()})
jQuery(".wmle_loadmore_btn").click(function(e){e.preventDefault();url=jQuery(this).attr("href");containerDivId=jQuery(this).attr("rel")
pageNumber=jQuery("#"+containerDivId).attr("data-page");randSeed=jQuery("#"+containerDivId).attr("data-seed");jQuery("#"+containerDivId).attr("data-load-status",'no');if(pageNumber==null){pageNumber=1}
url=url+'&pageNumber='+pageNumber+'&randSeed='+randSeed;jQuery.ajax({dataType:"json",url:url,beforeSend:function(){jQuery("img.loading_icon").show();jQuery('.wmle_loadmore_btn').html('Loading...')},success:function(response){if(response.status=="ok"){var newPageNumber=parseInt(pageNumber)+1;$boxes=jQuery(response.elements);$container.append($boxes).imagesLoaded(function(){jQuery('.wmle_item_holder').show();$container.masonry('appended',$boxes);jQuery("img.loading_icon").hide();jQuery("#"+containerDivId).attr("data-page",newPageNumber);jQuery('.wmle_loadmore_btn').html('Load More');jQuery("#"+containerDivId).attr("data-load-status",'ready');if(parseInt(newPageNumber)>parseInt(response.max_pages)){jQuery('.wmle_loadmore').remove()}})}
else{jQuery('.wmle_loadmore_btn').html(response.message)}}})})});(function(e,t,n){"use strict";t.infinitescroll=function(n,r,i){this.element=t(i);if(!this._create(n,r)){this.failed=!0}};t.infinitescroll.defaults={loading:{finished:n,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,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",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:n},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:n,binder:t(e),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:n,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:n,path:n,prefill:!1,maxPage:n};t.infinitescroll.prototype={_binding:function(t){var r=this,i=r.options;i.v="2.0b2.120520";if(!!i.behavior&&this["_binding_"+i.behavior]!==n){this["_binding_"+i.behavior].call(this);return}if(t!=="bind"&&t!=="unbind"){this._debug("Binding value "+t+" not valid");return!1}if(t==="unbind"){this.options.binder.unbind("smartscroll.infscr."+r.options.infid)}else{this.options.binder[t]("smartscroll.infscr."+r.options.infid,function(){r.scroll()})}this._debug("Binding",t)},_create:function(i,s){var o=t.extend(!0,{},t.infinitescroll.defaults,i);this.options=o;var u=t(e);var a=this;if(!a._validate(i)){return!1}var f=t(o.nextSelector).attr("href");if(!f){this._debug("Navigation selector not found");return!1}o.path=o.path||this._determinepath(f);o.contentSelector=o.contentSelector||this.element;o.loading.selector=o.loading.selector||o.contentSelector;o.loading.msg=o.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+o.loading.img+'" /><div>'+o.loading.msgText+"</div></div>");(new Image).src=o.loading.img;if(o.pixelsFromNavToBottom===n){o.pixelsFromNavToBottom=t(document).height()-t(o.navSelector).offset().top;this._debug("pixelsFromNavToBottom: "+o.pixelsFromNavToBottom)}var l=this;o.loading.start=o.loading.start||function(){t(o.navSelector).hide();o.loading.msg.appendTo(o.loading.selector).show(o.loading.speed,t.proxy(function(){this.beginAjax(o)},l))};o.loading.finished=o.loading.finished||function(){if(!o.state.isBeyondMaxPage)o.loading.msg.fadeOut(o.loading.speed)};o.callback=function(e,r,i){if(!!o.behavior&&e["_callback_"+o.behavior]!==n){e["_callback_"+o.behavior].call(t(o.contentSelector)[0],r,i)}if(s){s.call(t(o.contentSelector)[0],r,o,i)}if(o.prefill){u.bind("resize.infinite-scroll",e._prefill)}};if(i.debug){if(Function.prototype.bind&&(typeof console==="object"||typeof console==="function")&&typeof console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}}this._setup();if(o.prefill){this._prefill()}return!0},_prefill:function(){function s(){return r.options.contentSelector.height()<=i.height()}var r=this;var i=t(e);this._prefill=function(){if(s()){r.scroll()}i.bind("resize.infinite-scroll",function(){if(s()){i.unbind("resize.infinite-scroll");r.scroll()}})};this._prefill()},_debug:function(){if(!0!==this.options.debug){return}if(typeof console!=="undefined"&&typeof console.log==="function"){if(Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]==="string"){console.log(Array.prototype.slice.call(arguments).toString())}else{console.log(Array.prototype.slice.call(arguments))}}else if(!Function.prototype.bind&&typeof console!=="undefined"&&typeof console.log==="object"){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}},_determinepath:function(t){var r=this.options;if(!!r.behavior&&this["_determinepath_"+r.behavior]!==n){return this["_determinepath_"+r.behavior].call(this,t)}if(!!r.pathParse){this._debug("pathParse manual");return r.pathParse(t,this.options.state.currPage+1)}else if(t.match(/^(.*?)\b2\b(.*?$)/)){t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1)}else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/)){t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);return t}t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/)){t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);return t}else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");r.state.isInvalidPage=!0}}this._debug("determinePath",t);return t},_error:function(t){var r=this.options;if(!!r.behavior&&this["_error_"+r.behavior]!==n){this["_error_"+r.behavior].call(this,t);return}if(t!=="destroy"&&t!=="end"){t="unknown"}this._debug("Error",t);if(t==="end"||r.state.isBeyondMaxPage){this._showdonemsg()}r.state.isDone=!0;r.state.currPage=1;r.state.isPaused=!1;r.state.isBeyondMaxPage=!1;this._binding("unbind")},_loadcallback:function(i,s,o){var u=this.options,a=this.options.callback,f=u.state.isDone?"done":!u.appendCallback?"no-append":"append",l;if(!!u.behavior&&this["_loadcallback_"+u.behavior]!==n){this["_loadcallback_"+u.behavior].call(this,i,s);return}switch(f){case"done":this._showdonemsg();return!1;case"no-append":if(u.dataType==="html"){s="<div>"+s+"</div>";s=t(s).find(u.itemSelector)}break;case"append":var c=i.children();if(c.length===0){return this._error("end")}l=document.createDocumentFragment();while(i[0].firstChild){l.appendChild(i[0].firstChild)}this._debug("contentSelector",t(u.contentSelector)[0]);t(u.contentSelector)[0].appendChild(l);s=c.get();break}u.loading.finished.call(t(u.contentSelector)[0],u);if(u.animate){var h=t(e).scrollTop()+t(u.loading.msg).height()+u.extraScrollPx+"px";t("html,body").animate({scrollTop:h},800,function(){u.state.isDuringAjax=!1})}if(!u.animate){u.state.isDuringAjax=!1}a(this,s,o);if(u.prefill){this._prefill()}},_nearbottom:function(){var i=this.options,s=0+t(document).height()-i.binder.scrollTop()-t(e).height();if(!!i.behavior&&this["_nearbottom_"+i.behavior]!==n){return this["_nearbottom_"+i.behavior].call(this)}this._debug("math:",s,i.pixelsFromNavToBottom);return s-i.bufferPx<i.pixelsFromNavToBottom},_pausing:function(t){var r=this.options;if(!!r.behavior&&this["_pausing_"+r.behavior]!==n){this["_pausing_"+r.behavior].call(this,t);return}if(t!=="pause"&&t!=="resume"&&t!==null){this._debug("Invalid argument. Toggling pause value instead")}t=t&&(t==="pause"||t==="resume")?t:"toggle";switch(t){case"pause":r.state.isPaused=!0;break;case"resume":r.state.isPaused=!1;break;case"toggle":r.state.isPaused=!r.state.isPaused;break}this._debug("Paused",r.state.isPaused);return!1},_setup:function(){var t=this.options;if(!!t.behavior&&this["_setup_"+t.behavior]!==n){this["_setup_"+t.behavior].call(this);return}this._binding("bind");return!1},_showdonemsg:function(){var r=this.options;if(!!r.behavior&&this["_showdonemsg_"+r.behavior]!==n){this["_showdonemsg_"+r.behavior].call(this);return}r.loading.msg.find("img").hide().parent().find("div").html(r.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(r.loading.speed)});r.errorCallback.call(t(r.contentSelector)[0],"done")},_validate:function(n){for(var r in n){if(r.indexOf&&r.indexOf("Selector")>-1&&t(n[r]).length===0){this._debug("Your "+r+" found no elements.");return!1}}return!0},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=!0;this.options.loading.finished();return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(r){var i=this,s=r.path,o,u,a,f;r.state.currPage++;if(r.maxPage!=n&&r.state.currPage>r.maxPage){r.state.isBeyondMaxPage=!0;this.destroy();return}o=t(r.contentSelector).is("table, tbody")?t("<tbody/>"):t("<div/>");u=typeof s==="function"?s(r.state.currPage):s.join(r.state.currPage);i._debug("heading into ajax",u);a=r.dataType==="html"||r.dataType==="json"?r.dataType:"html+callback";if(r.appendCallback&&r.dataType==="html"){a+="+callback"}switch(a){case"html+callback":i._debug("Using HTML via .load() method");o.load(u+" "+r.itemSelector,n,function(t){i._loadcallback(o,t,u)});break;case"html":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");t.ajax({url:u,dataType:r.dataType,complete:function(t,n){f=typeof t.isResolved!=="undefined"?t.isResolved():n==="success"||n==="notmodified";if(f){i._loadcallback(o,t.responseText,u)}else{i._error("end")}}});break;case"json":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");t.ajax({dataType:"json",type:"GET",url:u,success:function(e,t,s){f=typeof s.isResolved!=="undefined"?s.isResolved():t==="success"||t==="notmodified";if(r.appendCallback){if(r.template!==n){var a=r.template(e);o.append(a);if(f){i._loadcallback(o,a)}else{i._error("end")}}else{i._debug("template must be defined.");i._error("end")}}else{if(f){i._loadcallback(o,e,u)}else{i._error("end")}}},error:function(){i._debug("JSON ajax request failed.");i._error("end")}});break}},retrieve:function(r){r=r||null;var i=this,s=i.options;if(!!s.behavior&&this["retrieve_"+s.behavior]!==n){this["retrieve_"+s.behavior].call(this,r);return}if(s.state.isDestroyed){this._debug("Instance is destroyed");return!1}s.state.isDuringAjax=!0;s.loading.start.call(t(s.contentSelector)[0],s)},scroll:function(){var t=this.options,r=t.state;if(!!t.behavior&&this["scroll_"+t.behavior]!==n){this["scroll_"+t.behavior].call(this);return}if(r.isDuringAjax||r.isInvalidPage||r.isDone||r.isDestroyed||r.isPaused){return}if(!this._nearbottom()){return}this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(n){if(t.isPlainObject(n)){this.options=t.extend(!0,this.options,n)}}};t.fn.infinitescroll=function(n,r){var i=typeof n;switch(i){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var e=t.data(this,"infinitescroll");if(!e){return!1}if(!t.isFunction(e[n])||n.charAt(0)==="_"){return!1}e[n].apply(e,s)});break;case"object":this.each(function(){var e=t.data(this,"infinitescroll");if(e){e.update(n)}else{e=new t.infinitescroll(n,r,this);if(!e.failed){t.data(this,"infinitescroll",e)}}});break}return this};var r=t.event,i;r.special.smartscroll={setup:function(){t(this).bind("scroll",r.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",r.special.smartscroll.handler)},handler:function(e,n){var r=this,s=arguments;e.type="smartscroll";if(i){clearTimeout(i)}i=setTimeout(function(){t(r).trigger("smartscroll",s)},n==="execAsap"?0:100)}};t.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}})(window,jQuery);!function t(e,r,a){function n(s,o){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return n(r?r:t)},c,c.exports,t,e,r,a)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(t,e,r){var a=(t("./includes/fields"),t("./includes/pagination"),t("./includes/state")),n=t("./includes/plugin");!function(t){"use strict";t(function(){String.prototype.replaceAll=function(t,e,r){return this.replace(new RegExp(t.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),r?"gi":"g"),"string"==typeof e?e.replace(/\$/g,"$$$$"):e)},Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=r.length;return function(n){if("object"!=typeof n&&("function"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var i,s,o=[];for(i in n)t.call(n,i)&&o.push(i);if(e)for(s=0;a>s;s++)t.call(n,r[s])&&o.push(r[s]);return o}}()),t.fn.searchAndFilter=n,t(".searchandfilter").searchAndFilter(),t(document).on("click",".search-filter-reset",function(e){e.preventDefault();var r="undefined"!=typeof t(this).attr("data-search-form-id")?t(this).attr("data-search-form-id"):"",n="undefined"!=typeof t(this).attr("data-sf-submit-form")?t(this).attr("data-sf-submit-form"):"";return a.getSearchForm(r).reset(n),!1})}),t.easing.jswing=t.easing.swing,t.extend(t.easing,{def:"easeOutQuad",swing:function(e,r,a,n,i){return t.easing[t.easing.def](e,r,a,n,i)},easeInQuad:function(t,e,r,a,n){return a*(e/=n)*e+r},easeOutQuad:function(t,e,r,a,n){return-a*(e/=n)*(e-2)+r},easeInOutQuad:function(t,e,r,a,n){return(e/=n/2)<1?a/2*e*e+r:-a/2*(--e*(e-2)-1)+r},easeInCubic:function(t,e,r,a,n){return a*(e/=n)*e*e+r},easeOutCubic:function(t,e,r,a,n){return a*((e=e/n-1)*e*e+1)+r},easeInOutCubic:function(t,e,r,a,n){return(e/=n/2)<1?a/2*e*e*e+r:a/2*((e-=2)*e*e+2)+r},easeInQuart:function(t,e,r,a,n){return a*(e/=n)*e*e*e+r},easeOutQuart:function(t,e,r,a,n){return-a*((e=e/n-1)*e*e*e-1)+r},easeInOutQuart:function(t,e,r,a,n){return(e/=n/2)<1?a/2*e*e*e*e+r:-a/2*((e-=2)*e*e*e-2)+r},easeInQuint:function(t,e,r,a,n){return a*(e/=n)*e*e*e*e+r},easeOutQuint:function(t,e,r,a,n){return a*((e=e/n-1)*e*e*e*e+1)+r},easeInOutQuint:function(t,e,r,a,n){return(e/=n/2)<1?a/2*e*e*e*e*e+r:a/2*((e-=2)*e*e*e*e+2)+r},easeInSine:function(t,e,r,a,n){return-a*Math.cos(e/n*(Math.PI/2))+a+r},easeOutSine:function(t,e,r,a,n){return a*Math.sin(e/n*(Math.PI/2))+r},easeInOutSine:function(t,e,r,a,n){return-a/2*(Math.cos(Math.PI*e/n)-1)+r},easeInExpo:function(t,e,r,a,n){return 0==e?r:a*Math.pow(2,10*(e/n-1))+r},easeOutExpo:function(t,e,r,a,n){return e==n?r+a:a*(-Math.pow(2,-10*e/n)+1)+r},easeInOutExpo:function(t,e,r,a,n){return 0==e?r:e==n?r+a:(e/=n/2)<1?a/2*Math.pow(2,10*(e-1))+r:a/2*(-Math.pow(2,-10*--e)+2)+r},easeInCirc:function(t,e,r,a,n){return-a*(Math.sqrt(1-(e/=n)*e)-1)+r},easeOutCirc:function(t,e,r,a,n){return a*Math.sqrt(1-(e=e/n-1)*e)+r},easeInOutCirc:function(t,e,r,a,n){return(e/=n/2)<1?-a/2*(Math.sqrt(1-e*e)-1)+r:a/2*(Math.sqrt(1-(e-=2)*e)+1)+r},easeInElastic:function(t,e,r,a,n){var i=1.70158,s=0,o=a;if(0==e)return r;if(1==(e/=n))return r+a;if(s||(s=.3*n),o<Math.abs(a)){o=a;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(a/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/s))+r},easeOutElastic:function(t,e,r,a,n){var i=1.70158,s=0,o=a;if(0==e)return r;if(1==(e/=n))return r+a;if(s||(s=.3*n),o<Math.abs(a)){o=a;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(a/o);return o*Math.pow(2,-10*e)*Math.sin(2*(e*n-i)*Math.PI/s)+a+r},easeInOutElastic:function(t,e,r,a,n){var i=1.70158,s=0,o=a;if(0==e)return r;if(2==(e/=n/2))return r+a;if(s||(s=.3*n*1.5),o<Math.abs(a)){o=a;var i=s/4}else var i=s/(2*Math.PI)*Math.asin(a/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/s)+r:o*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*n-i)*Math.PI/s)*.5+a+r},easeInBack:function(t,e,r,a,n,i){return void 0==i&&(i=1.70158),a*(e/=n)*e*((i+1)*e-i)+r},easeOutBack:function(t,e,r,a,n,i){return void 0==i&&(i=1.70158),a*((e=e/n-1)*e*((i+1)*e+i)+1)+r},easeInOutBack:function(t,e,r,a,n,i){return void 0==i&&(i=1.70158),(e/=n/2)<1?a/2*e*e*(((i*=1.525)+1)*e-i)+r:a/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+r},easeInBounce:function(e,r,a,n,i){return n-t.easing.easeOutBounce(e,i-r,0,n,i)+a},easeOutBounce:function(t,e,r,a,n){return(e/=n)<1/2.75?7.5625*a*e*e+r:2/2.75>e?a*(7.5625*(e-=1.5/2.75)*e+.75)+r:2.5/2.75>e?a*(7.5625*(e-=2.25/2.75)*e+.9375)+r:a*(7.5625*(e-=2.625/2.75)*e+.984375)+r},easeInOutBounce:function(e,r,a,n,i){return i/2>r?.5*t.easing.easeInBounce(e,2*r,0,n,i)+a:.5*t.easing.easeOutBounce(e,2*r-i,0,n,i)+.5*n+a}})}(jQuery),!function(){"use strict";function t(t){return t.split("").reverse().join("")}function e(t,e){return t.substring(0,e.length)===e}function r(t,e){return t.slice(-1*e.length)===e}function a(t,e,r){if((t[e]||t[r])&&t[e]===t[r])throw new Error(e)}function n(t){return"number"==typeof t&&isFinite(t)}function i(t,e){var r=Math.pow(10,e);return(Math.round(t*r)/r).toFixed(e)}function s(e,r,a,s,o,l,u,c,d,f,p,h){var m,_,v,g=h,x="",y="";return l&&(h=l(h)),n(h)?(e!==!1&&0===parseFloat(h.toFixed(e))&&(h=0),0>h&&(m=!0,h=Math.abs(h)),e!==!1&&(h=i(h,e)),h=h.toString(),-1!==h.indexOf(".")?(_=h.split("."),v=_[0],a&&(x=a+_[1])):v=h,r&&(v=t(v).match(/.{1,3}/g),v=t(v.join(t(r)))),m&&c&&(y+=c),s&&(y+=s),m&&d&&(y+=d),y+=v,y+=x,o&&(y+=o),f&&(y=f(y,g)),y):!1}function o(t,a,i,s,o,l,u,c,d,f,p,h){var m,_="";return p&&(h=p(h)),h&&"string"==typeof h?(c&&e(h,c)&&(h=h.replace(c,""),m=!0),s&&e(h,s)&&(h=h.replace(s,"")),d&&e(h,d)&&(h=h.replace(d,""),m=!0),o&&r(h,o)&&(h=h.slice(0,-1*o.length)),a&&(h=h.split(a).join("")),i&&(h=h.replace(i,".")),m&&(_+="-"),_+=h,_=_.replace(/[^0-9\.\-.]/g,""),""===_?!1:(_=Number(_),u&&(_=u(_)),n(_)?_:!1)):!1}function l(t){var e,r,n,i={};for(e=0;e<d.length;e+=1)if(r=d[e],n=t[r],void 0===n)"negative"!==r||i.negativeBefore?"mark"===r&&"."!==i.thousand?i[r]=".":i[r]=!1:i[r]="-";else if("decimals"===r){if(!(n>=0&&8>n))throw new Error(r);i[r]=n}else if("encoder"===r||"decoder"===r||"edit"===r||"undo"===r){if("function"!=typeof n)throw new Error(r);i[r]=n}else{if("string"!=typeof n)throw new Error(r);i[r]=n}return a(i,"mark","thousand"),a(i,"prefix","negative"),a(i,"prefix","negativeBefore"),i}function u(t,e,r){var a,n=[];for(a=0;a<d.length;a+=1)n.push(t[d[a]]);return n.push(r),e.apply("",n)}function c(t){return this instanceof c?void("object"==typeof t&&(t=l(t),this.to=function(e){return u(t,s,e)},this.from=function(e){return u(t,o,e)})):new c(t)}var d=["decimals","thousand","mark","prefix","postfix","encoder","decoder","negativeBefore","negative","edit","undo"];window.wNumb=c}()},{"./includes/fields":4,"./includes/pagination":5,"./includes/plugin":6,"./includes/state":8}],2:[function(t,e,r){!function(t){var a=!1;if("function"==typeof define&&define.amd&&(define(t),a=!0),"object"==typeof r&&(e.exports=t(),a=!0),!a){var n=window.Cookies,i=window.Cookies=t();i.noConflict=function(){return window.Cookies=n,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var r=arguments[t];for(var a in r)e[a]=r[a]}return e}function e(r){function a(e,n,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},a.defaults,i),"number"==typeof i.expires){var o=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*i.expires),i.expires=o}try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(l){}return n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",n,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var f=u[d].split("="),p=f.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var h=f[0].replace(c,decodeURIComponent);if(p=r.read?r.read(p,h):r(p,h)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(l){}if(e===h){s=p;break}e||(s[h]=p)}catch(l){}}return s}}return a.set=a,a.get=function(t){return a.call(a,t)},a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(e,r){a(e,"",t(r,{expires:-1}))},a.withConverter=e,a}return e(function(){})})},{}],3:[function(t,e,r){!function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof r?e.exports=t():window.noUiSlider=t()}(function(){"use strict";function t(t){return t.filter(function(t){return this[t]?!1:this[t]=!0},{})}function e(t,e){return Math.round(t/e)*e}function r(t){var e=t.getBoundingClientRect(),r=t.ownerDocument,a=r.documentElement,n=d();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(n.x=0),{top:e.top+n.y-a.clientTop,left:e.left+n.x-a.clientLeft}}function a(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,e,r){l(t,e),setTimeout(function(){u(t,e)},r)}function i(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function o(t){var e=t.split(".");return e.length>1?e[1].length:0}function l(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function u(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function d(){var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||""),r=t?window.pageXOffset:e?document.documentElement.scrollLeft:document.body.scrollLeft,a=t?window.pageYOffset:e?document.documentElement.scrollTop:document.body.scrollTop;return{x:r,y:a}}function f(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function p(t,e){return 100/(e-t)}function h(t,e){return 100*e/(t[1]-t[0])}function m(t,e){return h(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function _(t,e){return e*(t[1]-t[0])/100+t[0]}function v(t,e){for(var r=1;t>=e[r];)r+=1;return r}function g(t,e,r){if(r>=t.slice(-1)[0])return 100;var a,n,i,s,o=v(r,t);return a=t[o-1],n=t[o],i=e[o-1],s=e[o],i+m([a,n],r)/p(i,s)}function x(t,e,r){if(r>=100)return t.slice(-1)[0];var a,n,i,s,o=v(r,e);return a=t[o-1],n=t[o],i=e[o-1],s=e[o],_([a,n],(r-i)*p(i,s))}function y(t,r,a,n){if(100===n)return n;var i,s,o=v(n,t);return a?(i=t[o-1],s=t[o],n-i>(s-i)/2?s:i):r[o-1]?t[o-1]+e(n-t[o-1],r[o-1]):n}function b(t,e,r){var n;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(n="min"===t?0:"max"===t?100:parseFloat(t),!a(n)||!a(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");r.xPct.push(n),r.xVal.push(e[0]),n?r.xSteps.push(isNaN(e[1])?!1:e[1]):isNaN(e[1])||(r.xSteps[0]=e[1])}function j(t,e,r){return e?void(r.xSteps[t]=h([r.xVal[t],r.xVal[t+1]],e)/p(r.xPct[t],r.xPct[t+1])):!0}function w(t,e,r,a){this.xPct=[],this.xVal=[],this.xSteps=[a||!1],this.xNumSteps=[!1],this.snap=e,this.direction=r;var n,i=[];for(n in t)t.hasOwnProperty(n)&&i.push([t[n],n]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(t,e){return t[0][0]-e[0][0]}):i.sort(function(t,e){return t[0]-e[0]}),n=0;n<i.length;n++)b(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)j(n,this.xNumSteps[n],this)}function S(t,e){if(!a(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function C(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");t.spectrum=new w(e,t.snap,t.dir,t.singleStep)}function U(t,e){if(e=s(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function k(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function P(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function E(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function M(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function A(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function F(t,e){if(!a(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function O(t,e){if(!a(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function R(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function I(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,a=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,i=e.indexOf("snap")>=0,s=e.indexOf("hover")>=0;if(a&&!t.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");t.events={tap:r||i,drag:a,fixed:n,snap:i,hover:s}}function N(t,e){var r;if(e!==!1)if(e===!0)for(t.tooltips=[],r=0;r<t.handles;r++)t.tooltips.push(!0);else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function L(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function T(t,e){if(void 0!==e&&"string"!=typeof e&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function $(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix){t.cssClasses={};for(var r in e)e.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+e[r])}else t.cssClasses=e}function V(t){var e,r={margin:0,limit:0,animate:!0,animationDuration:300,format:D};e={step:{r:!1,t:S},start:{r:!0,t:U},connect:{r:!0,t:M},direction:{r:!0,t:R},snap:{r:!1,t:k},animate:{r:!1,t:P},animationDuration:{r:!1,t:E},range:{r:!0,t:C},orientation:{r:!1,t:A},margin:{r:!1,t:F},limit:{r:!1,t:O},behaviour:{r:!0,t:I},format:{r:!1,t:L},tooltips:{r:!1,t:N},cssPrefix:{r:!1,t:T},cssClasses:{r:!1,t:$}};var a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(e).forEach(function(n){if(void 0===t[n]&&void 0===a[n]){if(e[n].r)throw new Error("noUiSlider: '"+n+"' is required.");return!0}e[n].t(r,void 0===t[n]?a[n]:t[n])}),r.pips=t.pips,r.style=r.ort?"top":"left",r}function q(e,a,p){function h(t,e,r){var a=t+e[0],n=t+e[1];return r?(0>a&&(n+=Math.abs(a)),n>100&&(a-=n-100),[i(a),i(n)]):[a,n]}function m(t,e){t.preventDefault();var r,a,n=0===t.type.indexOf("touch"),i=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer"),o=t;return 0===t.type.indexOf("MSPointer")&&(s=!0),n&&(r=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY),e=e||d(),(i||s)&&(r=t.clientX+e.x,a=t.clientY+e.y),o.pageOffset=e,o.points=[r,a],o.cursor=i||s,o}function _(t,e){var r=document.createElement("div"),n=document.createElement("div"),i=[a.cssClasses.handleLower,a.cssClasses.handleUpper];return t&&i.reverse(),l(n,a.cssClasses.handle),l(n,i[e]),l(r,a.cssClasses.origin),r.appendChild(n),r}function v(t,e,r){switch(t){case 1:l(e,a.cssClasses.connect),l(r[0],a.cssClasses.background);break;case 3:l(r[1],a.cssClasses.background);case 2:l(r[0],a.cssClasses.connect);case 0:l(e,a.cssClasses.background)}}function g(t,e,r){var a,n=[];for(a=0;t>a;a+=1)n.push(r.appendChild(_(e,a)));return n}function x(t,e,r){l(r,a.cssClasses.target),0===t?l(r,a.cssClasses.ltr):l(r,a.cssClasses.rtl),0===e?l(r,a.cssClasses.horizontal):l(r,a.cssClasses.vertical);var n=document.createElement("div");return l(n,a.cssClasses.base),r.appendChild(n),n}function y(t,e){if(!a.tooltips[e])return!1;var r=document.createElement("div");return r.className=a.cssClasses.tooltip,t.firstChild.appendChild(r)}function b(){a.dir&&a.tooltips.reverse();var t=X.map(y);a.dir&&(t.reverse(),a.tooltips.reverse()),z("update",function(e,r,n){t[r]&&(t[r].innerHTML=a.tooltips[r]===!0?e[r]:a.tooltips[r].to(n[r]))})}function j(t,e,r){if("range"===t||"steps"===t)return K.xVal;if("count"===t){var a,n=100/(e-1),i=0;for(e=[];(a=i++*n)<=100;)e.push(a);t="positions"}return"positions"===t?e.map(function(t){return K.fromStepping(r?K.getStep(t):t)}):"values"===t?r?e.map(function(t){return K.fromStepping(K.getStep(K.toStepping(t)))}):e:void 0}function w(e,r,a){function n(t,e){return(t+e).toFixed(7)/1}var i=K.direction,s={},o=K.xVal[0],l=K.xVal[K.xVal.length-1],u=!1,c=!1,d=0;return K.direction=0,a=t(a.slice().sort(function(t,e){return t-e})),a[0]!==o&&(a.unshift(o),u=!0),a[a.length-1]!==l&&(a.push(l),c=!0),a.forEach(function(t,i){var o,l,f,p,h,m,_,v,g,x,y=t,b=a[i+1];if("steps"===r&&(o=K.xNumSteps[i]),o||(o=b-y),y!==!1&&void 0!==b)for(l=y;b>=l;l=n(l,o)){for(p=K.toStepping(l),h=p-d,v=h/e,g=Math.round(v),x=h/g,f=1;g>=f;f+=1)m=d+f*x,s[m.toFixed(5)]=["x",0];_=a.indexOf(l)>-1?1:"steps"===r?2:0,!i&&u&&(_=0),l===b&&c||(s[p.toFixed(5)]=[l,_]),d=p}}),K.direction=i,s}function S(t,e,r){function n(t,e){var r=e===a.cssClasses.value,n=r?f:p,i=r?c:d;return e+" "+n[a.ort]+" "+i[t]}function i(t,e,r){return'class="'+n(r[1],e)+'" style="'+a.style+": "+t+'%"'}function s(t,n){K.direction&&(t=100-t),n[1]=n[1]&&e?e(n[0],n[1]):n[1],u+="<div "+i(t,a.cssClasses.marker,n)+"></div>",n[1]&&(u+="<div "+i(t,a.cssClasses.value,n)+">"+r.to(n[0])+"</div>")}var o=document.createElement("div"),u="",c=[a.cssClasses.valueNormal,a.cssClasses.valueLarge,a.cssClasses.valueSub],d=[a.cssClasses.markerNormal,a.cssClasses.markerLarge,a.cssClasses.markerSub],f=[a.cssClasses.valueHorizontal,a.cssClasses.valueVertical],p=[a.cssClasses.markerHorizontal,a.cssClasses.markerVertical];return l(o,a.cssClasses.pips),l(o,0===a.ort?a.cssClasses.pipsHorizontal:a.cssClasses.pipsVertical),Object.keys(t).forEach(function(e){s(e,t[e])}),o.innerHTML=u,o}function C(t){var e=t.mode,r=t.density||1,a=t.filter||!1,n=t.values||!1,i=t.stepped||!1,s=j(e,n,i),o=w(r,e,s),l=t.format||{to:Math.round};return Z.appendChild(S(o,a,l))}function U(){var t=W.getBoundingClientRect(),e="offset"+["Width","Height"][a.ort];return 0===a.ort?t.width||W[e]:t.height||W[e]}function k(t,e,r){var n;for(n=0;n<a.handles;n++)if(-1===G[n])return;void 0!==e&&1!==a.handles&&(e=Math.abs(e-a.dir)),Object.keys(et).forEach(function(a){var n=a.split(".")[0];t===n&&et[a].forEach(function(t){t.call(J,s(q()),e,s(P(Array.prototype.slice.call(tt))),r||!1,G)})})}function P(t){return 1===t.length?t[0]:a.dir?t.reverse():t}function E(t,e,r,n){var i=function(e){return Z.hasAttribute("disabled")?!1:c(Z,a.cssClasses.tap)?!1:(e=m(e,n.pageOffset),t===Y.start&&void 0!==e.buttons&&e.buttons>1?!1:n.hover&&e.buttons?!1:(e.calcPoint=e.points[a.ort],void r(e,n)))},s=[];return t.split(" ").forEach(function(t){e.addEventListener(t,i,!1),s.push([t,i])}),s}function M(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return A(t,e);var r,a,n=e.handles||X,i=!1,s=100*(t.calcPoint-e.start)/e.baseSize,o=n[0]===X[0]?0:1;if(r=h(s,e.positions,n.length>1),i=L(n[0],r[o],1===n.length),n.length>1){if(i=L(n[1],r[o?0:1],!1)||i)for(a=0;a<e.handles.length;a++)k("slide",a)}else i&&k("slide",o)}function A(t,e){var r=W.querySelector("."+a.cssClasses.active),n=e.handles[0]===X[0]?0:1;null!==r&&u(r,a.cssClasses.active),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var i=document.documentElement;i.noUiListeners.forEach(function(t){i.removeEventListener(t[0],t[1])}),u(Z,a.cssClasses.drag),k("set",n),k("change",n),void 0!==e.handleNumber&&k("end",e.handleNumber)}function F(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&A(t,e)}function O(t,e){var r=document.documentElement;if(1===e.handles.length){if(e.handles[0].hasAttribute("disabled"))return!1;l(e.handles[0].children[0],a.cssClasses.active)}t.preventDefault(),t.stopPropagation();var n=E(Y.move,r,M,{start:t.calcPoint,baseSize:U(),pageOffset:t.pageOffset,handles:e.handles,handleNumber:e.handleNumber,buttonsProperty:t.buttons,positions:[G[0],G[X.length-1]]}),i=E(Y.end,r,A,{handles:e.handles,handleNumber:e.handleNumber}),s=E("mouseout",r,F,{handles:e.handles,handleNumber:e.handleNumber});if(r.noUiListeners=n.concat(i,s),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,X.length>1&&l(Z,a.cssClasses.drag);var o=function(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}void 0!==e.handleNumber&&k("start",e.handleNumber)}function R(t){var e,i,s=t.calcPoint,o=0;return t.stopPropagation(),X.forEach(function(t){o+=r(t)[a.style]}),e=o/2>s||1===X.length?0:1,X[e].hasAttribute("disabled")&&(e=e?0:1),s-=r(W)[a.style],i=100*s/U(),a.events.snap||n(Z,a.cssClasses.tap,a.animationDuration),X[e].hasAttribute("disabled")?!1:(L(X[e],i),k("slide",e,!0),k("set",e,!0),k("change",e,!0),void(a.events.snap&&O(t,{handles:[X[e]]})))}function I(t){var e=t.calcPoint-r(W)[a.style],n=K.getStep(100*e/U()),i=K.fromStepping(n);Object.keys(et).forEach(function(t){"hover"===t.split(".")[0]&&et[t].forEach(function(t){t.call(J,i)})})}function N(t){if(t.fixed||X.forEach(function(t,e){E(Y.start,t.children[0],O,{handles:[t],handleNumber:e})}),t.tap&&E(Y.start,W,R,{handles:X}),t.hover&&E(Y.move,W,I,{hover:!0}),t.drag){var e=[W.querySelector("."+a.cssClasses.connect)];l(e[0],a.cssClasses.draggable),t.fixed&&e.push(X[e[0]===X[0]?1:0].children[0]),e.forEach(function(t){E(Y.start,t,O,{handles:X})})}}function L(t,e,r){var n=t!==X[0]?1:0,s=G[0]+a.margin,o=G[1]-a.margin,c=G[0]+a.limit,d=G[1]-a.limit;return X.length>1&&(e=n?Math.max(e,s):Math.min(e,o)),r!==!1&&a.limit&&X.length>1&&(e=n?Math.min(e,c):Math.max(e,d)),e=K.getStep(e),e=i(e),e===G[n]?!1:(window.requestAnimationFrame?window.requestAnimationFrame(function(){t.style[a.style]=e+"%"}):t.style[a.style]=e+"%",t.previousSibling||(u(t,a.cssClasses.stacking),e>50&&l(t,a.cssClasses.stacking)),G[n]=e,tt[n]=K.fromStepping(e),k("update",n),!0)}function T(t,e){var r,n,i;for(a.limit&&(t+=1),r=0;t>r;r+=1)n=r%2,i=e[n],null!==i&&i!==!1&&("number"==typeof i&&(i=String(i)),i=a.format.from(i),(i===!1||isNaN(i)||L(X[n],K.toStepping(i),r===3-a.dir)===!1)&&k("update",n))}function $(t,e){var r,i,o=s(t);for(e=void 0===e?!0:!!e,a.dir&&a.handles>1&&o.reverse(),a.animate&&-1!==G[0]&&n(Z,a.cssClasses.tap,a.animationDuration),r=X.length>1?3:1,1===o.length&&(r=1),T(r,o),i=0;i<X.length;i++)null!==o[i]&&e&&k("set",i)}function q(){var t,e=[];for(t=0;t<a.handles;t+=1)e[t]=a.format.to(tt[t]);return P(e)}function Q(){for(var t in a.cssClasses)a.cssClasses.hasOwnProperty(t)&&u(Z,a.cssClasses[t]);for(;Z.firstChild;)Z.removeChild(Z.firstChild);delete Z.noUiSlider}function D(){var t=G.map(function(t,e){var r=K.getApplicableStep(t),a=o(String(r[2])),n=tt[e],i=100===t?null:r[2],s=Number((n-r[2]).toFixed(a)),l=0===t?null:s>=r[1]?r[2]:r[0]||!1;return[l,i]});return P(t)}function z(t,e){et[t]=et[t]||[],et[t].push(e),"update"===t.split(".")[0]&&X.forEach(function(t,e){k("update",e)})}function B(t){var e=t&&t.split(".")[0],r=e&&t.substring(e.length);Object.keys(et).forEach(function(t){var a=t.split(".")[0],n=t.substring(a.length);e&&e!==a||r&&r!==n||delete et[t]})}function H(t,e){var r=q(),n=V({start:[0,0],margin:t.margin,limit:t.limit,step:void 0===t.step?a.singleStep:t.step,range:t.range,animate:t.animate,snap:void 0===t.snap?a.snap:t.snap});["margin","limit","range","animate"].forEach(function(e){void 0!==t[e]&&(a[e]=t[e])}),n.spectrum.direction=K.direction,K=n.spectrum,G=[-1,-1],$(t.start||r,e)}var W,X,J,Y=f(),Z=e,G=[-1,-1],K=a.spectrum,tt=[],et={};if(Z.noUiSlider)throw new Error("Slider was already initialized.");return W=x(a.dir,a.ort,Z),X=g(a.handles,a.dir,W),v(a.connect,Z,X),a.pips&&C(a.pips),a.tooltips&&b(),J={destroy:Q,steps:D,on:z,off:B,get:q,set:$,updateOptions:H,options:p,target:Z,pips:C},N(a.events),J}function Q(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var r=V(e,t),a=q(t,r,e);return a.set(r.start),t.noUiSlider=a,a}w.prototype.getMargin=function(t){return 2===this.xPct.length?h(this.xVal,t):!1},w.prototype.toStepping=function(t){return t=g(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},w.prototype.fromStepping=function(t){return this.direction&&(t=100-t),x(this.xVal,this.xPct,t)},w.prototype.getStep=function(t){return this.direction&&(t=100-t),t=y(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},w.prototype.getApplicableStep=function(t){var e=v(t,this.xPct),r=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-r],this.xNumSteps[e-r]]},w.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var D={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{create:Q}})},{}],4:[function(t,e,r){var a={functions:{}};e.exports=a},{}],5:[function(t,e,r){var a={setupLegacy:function(){},setupLegacy:function(){}};e.exports=a},{}],6:[function(t,e,r){var a=window.jQuery,n=t("./state"),i=t("./process_form"),s=t("nouislider");t("js-cookie");e.exports=function(t){var e={startOpened:!1,isInit:!0,action:""},r=jQuery.extend(e,t);this.each(function(){var t=a(this),e=this;this.sfid=t.attr("data-sf-form-id"),n.addSearchForm(this.sfid,this),this.$fields=t.find("> ul > li"),this.enable_taxonomy_archives=t.attr("data-taxonomy-archives"),this.current_taxonomy_archive=t.attr("data-current-taxonomy-archive"),"undefined"==typeof this.enable_taxonomy_archives&&(this.enable_taxonomy_archives="0"),"undefined"==typeof this.current_taxonomy_archive&&(this.current_taxonomy_archive=""),i.init(e.enable_taxonomy_archives,e.current_taxonomy_archive),i.enableInputs(e),"undefined"==typeof this.extra_query_params&&(this.extra_query_params={all:{},results:{},ajax:{}}),this.template_is_loaded=t.attr("data-template-loaded"),this.is_ajax=t.attr("data-ajax"),this.instance_number=t.attr("data-instance-count"),this.$ajax_results_container=jQuery(t.attr("data-ajax-target")),this.results_url=t.attr("data-results-url"),this.debug_mode=t.attr("data-debug-mode"),this.update_ajax_url=t.attr("data-update-ajax-url"),this.pagination_type=t.attr("data-ajax-pagination-type"),this.auto_count=t.attr("data-auto-count"),this.auto_count_refresh_mode=t.attr("data-auto-count-refresh-mode"),this.only_results_ajax=t.attr("data-only-results-ajax"),this.scroll_to_pos=t.attr("data-scroll-to-pos"),this.custom_scroll_to=t.attr("data-custom-scroll-to"),this.scroll_on_action=t.attr("data-scroll-on-action"),this.lang_code=t.attr("data-lang-code"),this.ajax_url=t.attr("data-ajax-url"),this.ajax_form_url=t.attr("data-ajax-form-url"),this.is_rtl=t.attr("data-is-rtl"),this.display_result_method=t.attr("data-display-result-method"),this.maintain_state=t.attr("data-maintain-state"),this.ajax_action="",this.last_submit_query_params="",this.current_paged=parseInt(t.attr("data-init-paged")),this.last_load_more_html="",this.load_more_html="",this.ajax_data_type=t.attr("data-ajax-data-type"),this.ajax_target_attr=t.attr("data-ajax-target"),this.use_history_api=t.attr("data-use-history-api"),this.last_ajax_request=null,"undefined"==typeof this.use_history_api&&(this.use_history_api=""),"undefined"==typeof this.pagination_type&&(this.pagination_type="normal"),"undefined"==typeof this.current_paged&&(this.current_paged=1),"undefined"==typeof this.ajax_target_attr&&(this.ajax_target_attr=""),"undefined"==typeof this.ajax_url&&(this.ajax_url=""),"undefined"==typeof this.ajax_form_url&&(this.ajax_form_url=""),"undefined"==typeof this.results_url&&(this.results_url=""),"undefined"==typeof this.scroll_to_pos&&(this.scroll_to_pos=""),"undefined"==typeof this.scroll_on_action&&(this.scroll_on_action=""),"undefined"==typeof this.custom_scroll_to&&(this.custom_scroll_to=""),this.$custom_scroll_to=jQuery(this.custom_scroll_to),"undefined"==typeof this.update_ajax_url&&(this.update_ajax_url=""),"undefined"==typeof this.debug_mode&&(this.debug_mode=""),"undefined"==typeof this.ajax_target_object&&(this.ajax_target_object=""),"undefined"==typeof this.template_is_loaded&&(this.template_is_loaded="0"),"undefined"==typeof this.auto_count_refresh_mode&&(this.auto_count_refresh_mode="0"),this.ajax_links_selector=t.attr("data-ajax-links-selector"),this.auto_update=t.attr("data-auto-update"),this.inputTimer=0,this.setInfiniteScrollContainer=function(){this.is_max_paged=!1,this.use_scroll_loader=t.attr("data-show-scroll-loader"),this.infinite_scroll_container=t.attr("data-infinite-scroll-container"),this.infinite_scroll_trigger_amount=t.attr("data-infinite-scroll-trigger"),this.infinite_scroll_result_class=t.attr("data-infinite-scroll-result-class"),this.$infinite_scroll_container=this.$ajax_results_container,"undefined"==typeof this.infinite_scroll_container?this.infinite_scroll_container="":this.$infinite_scroll_container=jQuery(t.attr("data-infinite-scroll-container")),"undefined"==typeof this.infinite_scroll_result_class&&(this.infinite_scroll_result_class=""),"undefined"==typeof this.use_scroll_loader&&(this.use_scroll_loader=1)},this.setInfiniteScrollContainer(),this.reset=function(t){return this.resetForm(t),!0},this.inputUpdate=function(t){if("undefined"==typeof t)var t=300;e.resetTimer(t)},this.dateInputType=function(){a(this);if(1==e.auto_update||1==e.auto_count_refresh_mode){var r=t.find(".sf-datepicker"),n=r.length;if(n>1){var i=0,s=0;r.each(function(){""==a(this).val()&&s++,i++}),0==s&&e.inputUpdate(1200)}else e.inputUpdate(1200)}},this.scrollToPos=function(){var r=0,n=!0;1==e.is_ajax&&("window"==e.scroll_to_pos?r=0:"form"==e.scroll_to_pos?r=t.offset().top:"results"==e.scroll_to_pos?e.$ajax_results_container.length>0&&(r=e.$ajax_results_container.offset().top):"custom"==e.scroll_to_pos?e.$custom_scroll_to.length>0&&(r=e.$custom_scroll_to.offset().top):n=!1,n&&a("html, body").stop().animate({scrollTop:r},"normal","easeOutQuad"))},this.attachActiveClass=function(){t.on("change",'input[type="radio"], input[type="checkbox"], select',function(t){var e=a(this),r=e.parent(),n=e.prop("tagName").toLowerCase(),i=e.attr("type"),s=r.prop("tagName").toLowerCase();if("input"!=n||"radio"!=i&&"checkbox"!=i||"li"!=s){if("select"==n){var o=e.children();o.removeClass("sf-option-active");var l=e.val();e.find("option[value='"+l+"']").addClass("sf-option-active")}}else{var o=r.siblings();o.removeClass("sf-option-active"),r.addClass("sf-option-active")}})},this.initAutoUpdateEvents=function(){if(1==e.auto_update||1==e.auto_count_refresh_mode){t.on("change",'input[type="radio"], input[type="checkbox"], select',function(t){e.inputUpdate(200)}),t.on("change",".meta-slider",function(t){e.inputUpdate(200)}),t.on("input",'input[type="number"]',function(t){e.inputUpdate(800)});var r=t.find('input[type="text"]:not(.sf-datepicker)'),a=r.val();t.on("input",'input[type="text"]:not(.sf-datepicker)',function(){a!=r.val()&&e.inputUpdate(1200),a=r.val()}),t.on("keypress",'input[type="text"]:not(.sf-datepicker)',function(t){return 13==t.which?(t.preventDefault(),e.submitForm(),!1):void 0}),t.on("input","input.sf-datepicker",e.dateInputType)}},this.clearTimer=function(t){clearTimeout(e.inputTimer)},this.resetTimer=function(t){clearTimeout(e.inputTimer),e.inputTimer=setTimeout(e.formUpdated,t)},this.addDatePickers=function(){var r=t.find(".sf-datepicker");r.length>0&&(r.each(function(){var t=a(this),r="",n=!1,i=!1,s=t.closest(".sf_date_field");s.length>0&&(r=s.attr("data-date-format"),1==s.attr("data-date-use-year-dropdown")&&(n=!0),1==s.attr("data-date-use-month-dropdown")&&(i=!0));var o={inline:!0,showOtherMonths:!0,onSelect:e.dateSelect,dateFormat:r,changeMonth:i,changeYear:n};1==e.is_rtl&&(o.direction="rtl"),t.datepicker(o),""!=e.lang_code?a.datepicker.setDefaults(a.extend({dateFormat:r},a.datepicker.regional[e.lang_code])):a.datepicker.setDefaults(a.extend({dateFormat:r},a.datepicker.regional.en))}),0==a(".ll-skin-melon").length&&r.datepicker("widget").wrap('<div class="ll-skin-melon searchandfilter-date-picker"/>'))},this.dateSelect=function(){var t=a(this);if(1==e.auto_update||1==e.auto_count_refresh_mode){var r=t.find(".sf-datepicker"),n=r.length;if(n>1){var i=0,s=0;r.each(function(){""==a(this).val()&&s++,i++}),0==s&&e.inputUpdate(1)}else e.inputUpdate(1)}},this.addRangeSliders=function(){var r=t.find(".sf-meta-range-slider");r.length>0&&(r.each(function(){var t=a(this),r=t.attr("data-min"),n=t.attr("data-max"),i=t.attr("data-start-min"),o=t.attr("data-start-max"),l=t.attr("data-display-values-as"),u=t.attr("data-step"),c=t.find(".sf-range-min"),d=t.find(".sf-range-max"),f=t.attr("data-decimal-places"),p=t.attr("data-thousand-seperator"),h=t.attr("data-decimal-seperator"),m=wNumb({mark:h,decimals:parseFloat(f),thousand:p}),_=(parseFloat(i),m.to(parseFloat(i))),v=m.to(parseFloat(o));parseFloat(o);"textinput"==l?(c.val(_),d.val(v)):"text"==l&&(c.html(_),d.html(v));var g={range:{min:[parseFloat(r)],max:[parseFloat(n)]},start:[_,v],handles:2,connect:!0,step:parseFloat(u),behaviour:"extend-tap",format:m};1==e.is_rtl&&(g.direction="rtl");var x=a(this).find(".meta-slider")[0];s.create(x,g),c.off(),c.on("change",function(){x.noUiSlider.set([a(this).val(),null])}),d.off(),d.on("change",function(){x.noUiSlider.set([null,a(this).val()])}),x.noUiSlider.off("update"),x.noUiSlider.on("update",function(t,r){var a=_,n=v,i=t[r];r?v=i:_=i,"textinput"==l?(c.val(_),d.val(v)):"text"==l&&(c.html(_),d.html(v)),(1==e.auto_update||1==e.auto_count_refresh_mode)&&(a!=_||n!=v)&&e.inputUpdate(800)})}),e.clearTimer())},this.init=function(r){if("undefined"==typeof r)var r=!1;this.initAutoUpdateEvents(),this.attachActiveClass(),this.addDatePickers(),this.addRangeSliders();var n=t.find("select[data-combobox='1']");if(n.length>0)if("undefined"!=typeof n.chosen)1==e.is_rtl&&n.addClass("chosen-rtl"),n.chosen({search_contains:!0});else{var i={};1==e.is_rtl&&(i.dir="rtl"),n.select2(i)}1==e.is_ajax&&e.setupAjaxPagination(),t.submit(this.submitForm),e.initWooCommerceControls(),0==r&&(e.last_submit_query_params=e.getUrlParams(!1)),"infinite_scroll"==this.pagination_type&&1==parseInt(this.instance_number)&&(a(window).off("scroll",e.onWindowScroll),e.canFetchAjaxResults("pagination")&&a(window).on("scroll",e.onWindowScroll))},this.onWindowScroll=function(t){if(!e.is_loading_more&&!e.is_max_paged){var r=a(window).scrollTop(),n=a(window).scrollTop()+a(window).height(),i=parseInt(e.infinite_scroll_trigger_amount);if(1==e.$infinite_scroll_container.length){var s=e.$infinite_scroll_container.offset().top+e.$infinite_scroll_container.height();e.$infinite_scroll_container.offset().top+e.$infinite_scroll_container.height()-r;n>s+i&&e.loadMoreResults()}}},this.stripQueryStringAndHashFromPath=function(t){return t.split("?")[0].split("#")[0]},this.gup=function(t,e){e||(e=location.href),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",a=new RegExp(r),n=a.exec(e);return null==n?null:n[1]},this.getUrlParams=function(t,r,a){if("undefined"==typeof t)var t=!0;if("undefined"==typeof r)var r="";var n="",s=i.getUrlParams(e),o=Object.keys(s).length,l=0;if("undefined"!=typeof a&&s.hasOwnProperty(a)&&o--,o>0)for(var u in s)if(s.hasOwnProperty(u)){var c=!0;"undefined"!=typeof a&&u==a&&(c=!1),c&&(n+=u+"="+s[u],o-1>l&&(n+="&"),l++)}var d="",f=n;if(d=e.joinUrlParam(d,f),1==t){var p=e.$ajax_results_container.attr("data-paged");"undefined"==typeof p&&(p=1),p>1&&(d=e.joinUrlParam(d,"sf_paged="+p))}return d=e.addQueryParams(d,e.extra_query_params.all)},this.addQueryParams=function(t,r){var a="",n=Object.keys(r).length;if(n>0)for(var i in r)r.hasOwnProperty(i)&&""!=r[i]&&(a=i+"="+r[i],t=e.joinUrlParam(t,a));return t},this.addUrlParam=function(t,e){var r="";return""!=t&&(r+=-1!=t.indexOf("?")?"&":"?"),""!=e?t+r+e:t},this.joinUrlParam=function(t,e){var r="";return""!=t&&(r+="&"),""!=e?t+r+e:t},this.setAjaxResultsURLs=function(t){if("undefined"==typeof e.ajax_results_conf&&(e.ajax_results_conf=new Array),e.ajax_results_conf.processing_url="",e.ajax_results_conf.results_url="",e.ajax_results_conf.data_type="","shortcode"==e.display_result_method)e.ajax_results_conf.results_url=e.addUrlParam(e.results_url,t),""!=e.lang_code&&(t=e.joinUrlParam(t,"lang="+e.lang_code)),e.ajax_results_conf.processing_url=e.addUrlParam(e.ajax_url,t);else if("post_type_archive"==e.display_result_method){i.setTaxArchiveResultsUrl(e,e.results_url);var r=i.getResultsUrl(e,e.results_url);e.ajax_results_conf.results_url=e.addUrlParam(r,t),e.ajax_results_conf.processing_url=e.addUrlParam(r,t)}else if("custom_woocommerce_store"==e.display_result_method){i.setTaxArchiveResultsUrl(e,e.results_url);var r=i.getResultsUrl(e,e.results_url);e.ajax_results_conf.results_url=e.addUrlParam(r,t),e.ajax_results_conf.processing_url=e.addUrlParam(r,t)}else e.ajax_results_conf.results_url=e.addUrlParam(e.results_url,t),e.ajax_results_conf.processing_url=e.addUrlParam(e.ajax_url,t);e.ajax_results_conf.processing_url=e.addQueryParams(e.ajax_results_conf.processing_url,e.extra_query_params.ajax),e.ajax_results_conf.data_type=e.ajax_data_type},this.loadMoreResults=function(){e.is_loading_more=!0;var t={sfid:e.sfid,targetSelector:e.ajax_target_attr,object:e};e.triggerEvent("sf:ajaxstart",t);var r=e.getUrlParams(!0);e.last_submit_query_params=e.getUrlParams(!1);var n="",i="",s="",o=this.current_paged+1;if(r=e.joinUrlParam(r,"sf_paged="+o),e.setAjaxResultsURLs(r),n=e.ajax_results_conf.processing_url,i=e.ajax_results_conf.results_url,s=e.ajax_results_conf.data_type,e.last_ajax_request&&e.last_ajax_request.abort(),1==e.use_scroll_loader){var l=a("<div/>",{"class":"search-filter-scroll-loading"});e.infiniteScrollAppend(l)}e.last_ajax_request=a.get(n,function(t,r,a){e.current_paged++,e.last_ajax_request=null,e.addResults(t,s)},s).fail(function(t,r,a){var i={};i.sfid=e.sfid,i.object=e,i.targetSelector=e.ajax_target_attr,i.ajaxURL=n,i.jqXHR=t,i.textStatus=r,i.errorThrown=a,e.triggerEvent("sf:ajaxerror",i)}).always(function(){var t={};t.sfid=e.sfid,t.targetSelector=e.ajax_target_attr,t.object=e,1==e.use_scroll_loader&&l.detach(),e.is_loading_more=!1,e.triggerEvent("sf:ajaxfinish",t)})},this.fetchAjaxResults=function(){var r={sfid:e.sfid,targetSelector:e.ajax_target_attr,object:e};e.triggerEvent("sf:ajaxstart",r);var n=t.find('input[type="text"]:focus').not(".sf-datepicker");if(1==n.length)var s=n.attr("name");if(t.addClass("search-filter-disabled"),i.disableInputs(e),e.$ajax_results_container.animate({opacity:.5},"fast"),"pagination"==e.ajax_action){var o=e.$ajax_results_container.attr("data-paged");"undefined"==typeof o&&(o=1),i.setTaxArchiveResultsUrl(e,e.results_url),l=e.getUrlParams(!1),o>1&&(l=e.joinUrlParam(l,"sf_paged="+o))}else if("submit"==e.ajax_action){var l=e.getUrlParams(!0);e.last_submit_query_params=e.getUrlParams(!1)}var u="",c="",d="";e.setAjaxResultsURLs(l),u=e.ajax_results_conf.processing_url,c=e.ajax_results_conf.results_url,d=e.ajax_results_conf.data_type,e.last_ajax_request&&e.last_ajax_request.abort(),e.last_ajax_request=a.get(u,function(t,r,a){e.last_ajax_request=null,e.scrollResults(),e.updateResults(t,d),e.setupAjaxPagination(),e.updateUrlHistory(c),e.initWooCommerceControls()},d).fail(function(t,r,a){var n={};n.sfid=e.sfid,n.targetSelector=e.ajax_target_attr,n.object=e,n.ajaxURL=u,n.jqXHR=t,n.textStatus=r,n.errorThrown=a,e.triggerEvent("sf:ajaxerror",n)}).always(function(){e.$ajax_results_container.stop(!0,!0).animate({opacity:1},"fast");var r={};if(r.sfid=e.sfid,r.targetSelector=e.ajax_target_attr,r.object=e,t.removeClass("search-filter-disabled"),i.enableInputs(e),""!=s){var n=[];e.$fields.each(function(){var t=a(this).find("input[name='"+s+"']");1==t.length&&(n=t)}),1==n.length&&n.focus().val(n.val())}t.find("input[name='_sf_search']").focus(),e.triggerEvent("sf:ajaxfinish",r)})},this.triggerEvent=function(t,r){var n=a(".searchandfilter[data-sf-form-id='"+e.sfid+"']");n.trigger(t,[r])},this.fetchAjaxForm=function(){t.addClass("search-filter-disabled"),i.disableInputs(e);var r=e.getUrlParams();""!=e.lang_code&&(r=e.joinUrlParam(r,"lang="+e.lang_code));var n=e.addUrlParam(e.ajax_form_url,r),s="json";a.get(n,function(t,r,a){e.updateForm(t,s)},s).fail(function(t,r,a){var i={};i.sfid=e.sfid,i.targetSelector=e.ajax_target_attr,i.object=e,i.ajaxURL=n,i.jqXHR=t,i.textStatus=r,i.errorThrown=a,e.triggerEvent("sf:ajaxerror",[i])}).always(function(){var r={};r.sfid=e.sfid,r.targetSelector=e.ajax_target_attr,t.removeClass("search-filter-disabled"),i.enableInputs(e)})},this.copyListItemsContents=function(t,e){var r=this,n=new Array,i=new Array,s=t.find("> ul > li");s.each(function(t){n.push(a(this).html());var e=a(this).prop("attributes");i.push(e)});var o=0,l=e.find("> ul > li");l.each(function(t){a(this).html(n[o]);var e=a(s.get(o)),i=a(this);i.removeAttr("data-sf-taxonomy-archive"),r.copyAttributes(e,i),o++})},this.updateFormAttributes=function(t,e){var r=t.prop("attributes"),n=e.prop("attributes");a.each(n,function(){e.removeAttr(this.name)}),a.each(r,function(){e.attr(this.name,this.value)})},this.copyAttributes=function(t,e,r){if("undefined"==typeof r)var r="";var n=t.prop("attributes"),i=e.prop("attributes");a.each(i,function(){""!=r&&0==this.name.indexOf(r)&&e.removeAttr(this.name)}),a.each(n,function(){e.attr(this.name,this.value)})},this.copyFormAttributes=function(t,e){e.removeAttr("data-current-taxonomy-archive"),this.copyAttributes(t,e)},this.updateForm=function(e,r){var n=this;"json"==r&&"undefined"!=typeof e.form&&(t.off(),n.copyListItemsContents(a(e.form),t),this.init(!0),1==n.is_ajax&&n.setupAjaxPagination())},this.addResults=function(t,e){var r=this;if("json"==e)r.load_more_html=t.results;else if("html"==e){var n=a(t);r.load_more_html=n.find(r.ajax_target_attr).html()}var i=!1;if(a("<div>"+r.load_more_html+"</div>").find("[data-search-filter-action='infinite-scroll-end']").length>0&&(i=!0),""!=r.infinite_scroll_container&&(r.load_more_html=a("<div>"+r.load_more_html+"</div>").find(r.infinite_scroll_container).html()),""!=r.infinite_scroll_result_class){var s=a("<div>"+r.load_more_html+"</div>").find(r.infinite_scroll_result_class),o=a("<div/>",{});o.append(s),r.load_more_html=o.html()}i?(r.is_max_paged=!0,r.last_load_more_html=r.load_more_html,r.infiniteScrollAppend(r.load_more_html)):r.last_load_more_html!==r.load_more_html?(r.last_load_more_html=r.load_more_html,r.infiniteScrollAppend(r.load_more_html)):r.is_max_paged=!0},this.infiniteScrollAppend=function(t){""!=e.infinite_scroll_result_class?e.$infinite_scroll_container.find(e.infinite_scroll_result_class).last().after(t):e.$infinite_scroll_container.append(t)},this.updateResults=function(e,r){var n=this;if("json"==r)n.$ajax_results_container.html(e.results),"undefined"!=typeof e.form&&(t.off(),n.removeAjaxPagination(),n.copyListItemsContents(a(e.form),t),n.copyFormAttributes(a(e.form),t),t.searchAndFilter({isInit:!1}));else if("html"==r){var i=a(e);if(n.$ajax_results_container.html(i.find(n.ajax_target_attr).html()),n.$ajax_results_container.find(".searchandfilter").length>0&&n.$ajax_results_container.find(".searchandfilter").searchAndFilter(),0==n.$ajax_results_container.find(".searchandfilter[data-sf-form-id='"+n.sfid+"']").length){var s=i.find(".searchandfilter[data-sf-form-id='"+n.sfid+"']");1==s.length&&(t.off(),n.removeAjaxPagination(),n.copyListItemsContents(s,t),n.copyFormAttributes(s,t),t.searchAndFilter({isInit:!1}))}}n.is_max_paged=!1,n.current_paged=1,n.setInfiniteScrollContainer()},this.removeWooCommerceControls=function(){var t=a(".woocommerce-ordering .orderby"),e=a(".woocommerce-ordering");e.off(),t.off()},this.addQueryParam=function(t,r,a){if("undefined"==typeof a)var a="all";e.extra_query_params[a][t]=r},this.initWooCommerceControls=function(){e.removeWooCommerceControls();var r=a(".woocommerce-ordering .orderby"),n=a(".woocommerce-ordering"),i="";i=r.length>0?r.val():e.getQueryParamFromURL("orderby",window.location.href),"menu_order"==i&&(i=""),""!=i&&i&&(e.extra_query_params.all.orderby=i),n.on("submit",function(t){return t.preventDefault(),!1}),r.on("change",function(r){r.preventDefault();var n=a(this).val();return"menu_order"==n&&(n=""),e.extra_query_params.all.orderby=n,t.submit(),!1})},this.scrollResults=function(){var t=this;(t.scroll_on_action==t.ajax_action||"all"==t.scroll_on_action)&&t.scrollToPos()},this.updateUrlHistory=function(e){var r=this,a=0;window.history&&window.history.pushState&&(a=t.attr("data-use-history-api")),1==r.update_ajax_url&&1==a&&window.history&&window.history.pushState&&history.pushState(null,null,e)},this.removeAjaxPagination=function(){var t=this;if("undefined"!=typeof t.ajax_links_selector){var e=jQuery(t.ajax_links_selector);e.length>0&&e.off()}},this.canFetchAjaxResults=function(t){if("undefined"==typeof t)var t="";var e=this,r=!1;if(1==e.is_ajax){1==e.$ajax_results_container.length&&(r=!0);var a=e.results_url,n=window.location.href;if(("custom_woocommerce_store"==e.display_result_method||"post_type_archive"==e.display_result_method)&&1==e.enable_taxonomy_archives&&""!==e.current_taxonomy_archive)return r=!0;var i=n.split("?"),s="";s=i.length>0?i[0]:n;var o=e.getQueryParamFromURL("lang",window.location.href);"undefined"!=typeof o&&null!==o&&(s=e.addUrlParam(s,"lang="+o));var l=e.getQueryParamFromURL("sfid",window.location.href);Number(parseFloat(l))==l&&(s=e.addUrlParam(s,"sfid="+l)),s=s.replace(/\/$/,""),a=a.replace(/\/$/,"");var u=-1;s==a&&(u=1),1==e.only_results_ajax?r=u>-1?!0:!1:"pagination"==t&&(u>-1||(r=!1))}return r},this.setupAjaxPagination=function(){"undefined"!=typeof e.ajax_links_selector&&(a(document).off("click",e.ajax_links_selector),a(document).on("click",e.ajax_links_selector,function(t){if(e.canFetchAjaxResults("pagination")){t.preventDefault();var r=jQuery(this).attr("href");e.ajax_action="pagination";var a=e.getPagedFromURL(r);return e.$ajax_results_container.attr("data-paged",a),e.fetchAjaxResults(),!1}}))},this.getPagedFromURL=function(t){var r=1,a=e.getQueryParamFromURL("sf_paged",t);return("string"==typeof a||"number"==typeof a)&&(r=a),r},this.getQueryParamFromURL=function(t,e){var r="?"+e.split("?")[1];if("undefined"!=typeof r){var a=decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(r)||[,""])[1].replace(/\+/g,"%20"))||null;return a}return""},this.formUpdated=function(t){return 1==e.auto_update?e.submitForm():0==e.auto_update&&1==e.auto_count_refresh_mode&&e.formUpdatedFetchAjax(),!1},this.formUpdatedFetchAjax=function(){return e.fetchAjaxForm(),!1},this.submitForm=function(t){if(clearTimeout(e.inputTimer),i.setTaxArchiveResultsUrl(e,e.results_url),e.$ajax_results_container.attr("data-paged",1),e.canFetchAjaxResults())e.ajax_action="submit",e.fetchAjaxResults();else{var r=i.getResultsUrl(e,e.results_url),a=e.getUrlParams(!0,"");r=e.addUrlParam(r,a),window.location.href=r}return!1},this.resetForm=function(t){e.$fields.each(function(){var t=a(this);t.find("select:not([multiple='multiple']) > option:first-child").prop("selected",!0),t.find("select[multiple='multiple'] > option").prop("selected",!1),t.find("input[type='checkbox']").prop("checked",!1),t.find("> ul > li:first-child input[type='radio']").prop("checked",!0),t.find("input[type='text']").val(""),t.find("input[type='number']").each(function(t){var e=a(this);e.parent().hasClass("sf-meta-range")&&(0==t?e.val(e.attr("min")):1==t&&e.val(e.attr("max")))});var e=t.find(".sf-meta-range-select-fromto");if(e.length>0){var r=e.attr("data-min"),n=e.attr("data-max");e.find("select").each(function(t){var e=a(this);0==t?e.val(r):1==t&&e.val(n)})}var i=t.find(".sf-meta-range-radio-fromto");if(i.length>0){var r=i.attr("data-min"),n=i.attr("data-max"),s=i.find(".sf-input-range-radio");s.each(function(t){var e=a(this).find(".sf-input-radio");e.prop("checked",!1),0==t?e.filter('[value="'+r+'"]').prop("checked",!0):1==t&&e.filter('[value="'+n+'"]').prop("checked",!0)})}t.find(".meta-slider").each(function(t){var e=a(this)[0],r=a(this).closest(".sf-meta-range-slider"),n=r.attr("data-min"),i=r.attr("data-max");e.noUiSlider.set([n,i])});var o=t.find("select[data-combobox='1']");o.length>0&&("undefined"!=typeof o.chosen?o.trigger("chosen:updated"):(o.val(""),o.trigger("change.select2")))}),e.clearTimer(),"always"==t?e.submitForm():"never"==t?1==this.auto_count_refresh_mode&&e.formUpdatedFetchAjax():"auto"==t&&(1==this.auto_update?e.submitForm():1==this.auto_count_refresh_mode&&e.formUpdatedFetchAjax())},this.init();var o={};o.sfid=e.sfid,o.targetSelector=e.ajax_target_attr,o.object=this,r.isInit&&e.triggerEvent("sf:init",o)})}},{"./process_form":7,"./state":8,"js-cookie":2,nouislider:3}],7:[function(t,e,r){var a=window.jQuery;e.exports={taxonomy_archives:0,url_params:{},tax_archive_results_url:"",active_tax:"",fields:{},init:function(t,e){this.taxonomy_archives=0,this.url_params={},this.tax_archive_results_url="",this.active_tax="",this.taxonomy_archives=t,this.current_taxonomy_archive=e,this.clearUrlComponents()},setTaxArchiveResultsUrl:function(t,e,r){var n=this;if(1==this.taxonomy_archives){if("undefined"==typeof r)var r=!1;var i=!1,s="",o="",l=t.$fields.parent().find("[data-sf-taxonomy-archive='1']");if(1==l.length){i=l;var u=i.attr("data-sf-field-type");if("tag"==u||"category"==u||"taxonomy"==u){var c=n.processTaxonomy(i,!0);s=i.attr("data-sf-field-name");var d=s.replace("_sft_","");c&&(o=c.value)}""==o&&(i=!1)}if(""!=n.current_taxonomy_archive&&n.current_taxonomy_archive!=d)return void(this.tax_archive_results_url=e);if(""!=o&&i||t.$fields.each(function(){if(!i){var t=a(this).attr("data-sf-field-type");if("tag"==t||"category"==t||"taxonomy"==t){var e=n.processTaxonomy(a(this),!0);s=a(this).attr("data-sf-field-name"),e&&(o=e.value,""!=o&&(i=a(this)))}}}),i&&""!=o){var f=i.attr("data-sf-term-rewrite");if(""!=f){var p=JSON.parse(f),h=i.attr("data-sf-field-input-type");if(n.active_tax=s,"radio"==h||"checkbox"==h){var m=!0,_=o.split(",").join("+").split("+");if(_.length>1&&(m=!1),m){var v=i.find("input[value='"+o+"']"),g=v.parent(),x=g.attr("data-sf-depth"),y=new Array;y.push(o);for(var b=x;b>0;b--)g=g.parent().parent(),y.push(g.find("input").val());y.reverse();var j=p[x],w=j;a(y).each(function(t,e){w=w.replace("["+t+"]",e)}),this.tax_archive_results_url=w}}else if("select"==h||"multiselect"==h){var m=!0,_=o.split(",").join("+").split("+");if(_.length>1&&(m=!1),m){var g=i.find("option[value='"+o+"']"),x=g.attr("data-sf-depth"),y=new Array;y.push(o);for(var b=x;b>0;b--)g=g.prevAll("option[data-sf-depth='"+(b-1)+"']"),y.push(g.val());y.reverse();var j=p[x],w=j;a(y).each(function(t,e){w=w.replace("["+t+"]",e)}),this.tax_archive_results_url=w}}}}}},getResultsUrl:function(t,e){return""==this.tax_archive_results_url?e:this.tax_archive_results_url},getUrlParams:function(t){if(this.buildUrlComponents(t,!0),""!=this.tax_archive_results_url&&""!=this.active_tax){var e=this.active_tax;"undefined"!=typeof this.url_params[e]&&delete this.url_params[e]}return this.url_params},clearUrlComponents:function(){this.url_params={}},disableInputs:function(t){t.$fields.each(function(){var t=a(this).find("input, select, .meta-slider");t.attr("disabled","disabled"),t.attr("disabled",!0),t.prop("disabled",!0),t.trigger("chosen:updated")})},enableInputs:function(t){t.$fields.each(function(){var t=a(this).find("input, select, .meta-slider");t.prop("disabled",!0),t.removeAttr("disabled"),t.trigger("chosen:updated")})},buildUrlComponents:function(t,e){var r=this;"undefined"!=typeof e&&1==e&&this.clearUrlComponents(),t.$fields.each(function(){var t=(a(this).attr("data-sf-field-name"),a(this).attr("data-sf-field-type"));"search"==t?r.processSearchField(a(this)):"tag"==t||"category"==t||"taxonomy"==t?r.processTaxonomy(a(this)):"sort_order"==t?r.processSortOrderField(a(this)):"posts_per_page"==t?r.processResultsPerPageField(a(this)):"author"==t?r.processAuthor(a(this)):"post_type"==t?r.processPostType(a(this)):"post_date"==t?r.processPostDate(a(this)):"post_meta"==t&&r.processPostMeta(a(this))})},processSearchField:function(t){var e=this,r=t.find("input[name^='_sf_search']");if(r.length>0){var a=(r.attr("name").replace("[]",""),r.val());""!=a&&(e.url_params._sf_s=encodeURIComponent(a))}},processSortOrderField:function(t){this.processAuthor(t)},processResultsPerPageField:function(t){this.processAuthor(t)},getActiveTax:function(t){return this.active_tax},getSelectVal:function(t){var e="";return 0!=t.val()&&(e=t.val()),null==e&&(e=""),e},getMetaSelectVal:function(t){var e="";return e=t.val(),null==e&&(e=""),e},getMultiSelectVal:function(t,e){var r="+";return"or"==e&&(r=","),"object"==typeof t.val()&&null!=t.val()?t.val().join(r):void 0},getMetaMultiSelectVal:function(t,e){var r="-+-";if("or"==e&&(r="-,-"),"object"==typeof t.val()&&null!=t.val()){var n=[];return a(t.val()).each(function(t,e){n.push(e)}),n.join(r)}return""},getCheckboxVal:function(t,e){var r=t.map(function(){return 1==a(this).prop("checked")?a(this).val():void 0}).get(),n="+";return"or"==e&&(n=","),r.join(n)},getMetaCheckboxVal:function(t,e){var r=t.map(function(){return 1==a(this).prop("checked")?a(this).val():void 0}).get(),n="-+-";return"or"==e&&(n="-,-"),r.join(n)},getRadioVal:function(t){var e=t.map(function(){return 1==a(this).prop("checked")?a(this).val():void 0}).get();return 0!=e[0]?e[0]:void 0},getMetaRadioVal:function(t){var e=t.map(function(){return 1==a(this).prop("checked")?a(this).val():void 0}).get();return e[0]},processAuthor:function(t){var e,r=this,a=(t.attr("data-sf-field-type"),t.attr("data-sf-field-input-type")),n="",i="";if("select"==a)e=t.find("select"),n=e.attr("name").replace("[]",""),i=r.getSelectVal(e);else if("multiselect"==a){e=t.find("select"),n=e.attr("name").replace("[]","");e.attr("data-operator");i=r.getMultiSelectVal(e,"or")}else if("checkbox"==a){if(e=t.find("ul > li input:checkbox"),e.length>0){n=e.attr("name").replace("[]","");t.find("> ul").attr("data-operator");i=r.getCheckboxVal(e,"or")}}else"radio"==a&&(e=t.find("ul > li input:radio"),e.length>0&&(n=e.attr("name").replace("[]",""),i=r.getRadioVal(e)));if("undefined"!=typeof i&&""!=i){var s="";"_sf_author"==n?s="authors":"_sf_sort_order"==n?s="sort_order":"_sf_ppp"==n?s="_sf_ppp":"_sf_post_type"==n&&(s="post_types"),""!=s&&(r.url_params[s]=i)}},processPostType:function(t){this.processAuthor(t)},processPostMeta:function(t){var e,r=this,n=(t.attr("data-sf-field-type"),t.attr("data-sf-field-input-type")),i=t.attr("data-sf-meta-type"),s="",o="";if("number"==i){if("range-number"==n){e=t.find(".sf-meta-range-number input");var l=[];e.each(function(){l.push(a(this).val())}),s=l.join("+")}else if("range-slider"==n){e=t.find(".sf-meta-range-slider input");var u=t.find(".sf-meta-range-slider"),c=u.attr("data-decimal-places"),d=u.attr("data-thousand-seperator"),f=u.attr("data-decimal-seperator"),p=wNumb({mark:f,decimals:parseFloat(c),thousand:d}),l=[],h=t.find(".meta-slider")[0],m=h.noUiSlider.get();l.push(p.from(m[0])),l.push(p.from(m[1])),s=l.join("+"),o=u.attr("data-sf-field-name")}else if("range-radio"==n){e=t.find(".sf-input-range-radio"),0==e.length&&(e=t.find("> ul"));var u=t.find(".sf-meta-range");if(e.length>0){var _=[];e.each(function(){var t=a(this).find(".sf-input-radio");_.push(r.getMetaRadioVal(t))}),2==_.length&&Number(_[1])<Number(_[0])&&(_[1]=_[0]),s=_.join("+")}o=1==e.length?e.find(".sf-input-radio").attr("name").replace("[]",""):u.attr("data-sf-field-name")}else if("range-select"==n){e=t.find(".sf-input-select");var u=t.find(".sf-meta-range");if(e.length>0){var _=[];e.each(function(){var t=a(this);_.push(r.getMetaSelectVal(t))}),2==_.length&&Number(_[1])<Number(_[0])&&(_[1]=_[0]),s=_.join("+")}o=1==e.length?e.attr("name").replace("[]",""):u.attr("data-sf-field-name")}else"range-checkbox"==n&&(e=t.find("ul > li input:checkbox"),e.length>0&&(s=r.getCheckboxVal(e,"and")));""==o&&(o=e.attr("name").replace("[]",""))}else if("choice"==i){if("select"==n)e=t.find("select"),s=r.getMetaSelectVal(e);else if("multiselect"==n){e=t.find("select");var v=e.attr("data-operator");s=r.getMetaMultiSelectVal(e,v)}else if("checkbox"==n){if(e=t.find("ul > li input:checkbox"),e.length>0){var v=t.find("> ul").attr("data-operator");s=r.getMetaCheckboxVal(e,v)}}else"radio"==n&&(e=t.find("ul > li input:radio"),e.length>0&&(s=r.getMetaRadioVal(e)));s=encodeURIComponent(s),"undefined"!=typeof e&&e.length>0&&(o=e.attr("name").replace("[]",""),o=o)}else"date"==i&&r.processPostDate(t);"undefined"!=typeof s&&""!=s&&(r.url_params[encodeURIComponent(o)]=s)},processPostDate:function(t){var e,r=this,n=(t.attr("data-sf-field-type"),t.attr("data-sf-field-input-type"),""),i="";e=t.find("ul > li input:text"),n=e.attr("name").replace("[]","");var s=[];if(e.each(function(){s.push(a(this).val())}),2==e.length?(""!=s[0]||""!=s[1])&&(i=s.join("+"),i=i.replace(/\//g,"")):1==e.length&&""!=s[0]&&(i=s.join("+"),i=i.replace(/\//g,"")),"undefined"!=typeof i&&""!=i){var o="";o="_sf_post_date"==n?"post_date":n,""!=o&&(r.url_params[o]=i)}},processTaxonomy:function(t,e){"undefined"==typeof e&&(e=!1);var r,a=this,n=(t.attr("data-sf-field-type"),t.attr("data-sf-field-input-type")),i="",s="";if("select"==n)r=t.find("select"),i=r.attr("name").replace("[]",""),s=a.getSelectVal(r);else if("multiselect"==n){r=t.find("select"),i=r.attr("name").replace("[]","");var o=r.attr("data-operator");s=a.getMultiSelectVal(r,o)}else if("checkbox"==n){if(r=t.find("ul > li input:checkbox"),r.length>0){i=r.attr("name").replace("[]","");var o=t.find("> ul").attr("data-operator");s=a.getCheckboxVal(r,o)}}else"radio"==n&&(r=t.find("ul > li input:radio"),r.length>0&&(i=r.attr("name").replace("[]",""),s=a.getRadioVal(r)));if("undefined"!=typeof s&&""!=s){if(1==e)return{name:i,value:s};a.url_params[i]=s}return 1==e?!1:void 0}}},{}],8:[function(t,e,r){e.exports={searchForms:{},init:function(){},addSearchForm:function(t,e){this.searchForms[t]=e},getSearchForm:function(t){return this.searchForms[t]}}},{}]},{},[1]);(function(){var a,AbstractChosen,Chosen,SelectParser,b,c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};SelectParser=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},SelectParser.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:this.escapeExpression(a.label),title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className}),f=a.childNodes,g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(this.add_option(c,b,a.disabled));return g},SelectParser.prototype.add_option=function(a,b,c){return"OPTION"===a.nodeName.toUpperCase()?(""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:c===!0?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},SelectParser.prototype.escapeExpression=function(a){var b,c;return null==a||a===!1?"":/[\&\<\>\"\'\`]/.test(a)?(b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/&(?!\w+;)|[\<\>\"\'\`]/g,a.replace(c,function(a){return b[a]||"&amp;"})):a},SelectParser}(),SelectParser.select_to_array=function(a){var b,c,d,e,f;for(c=new SelectParser,f=a.childNodes,d=0,e=f.length;e>d;d++)b=f[d],c.add_node(b);return c.parsed},AbstractChosen=function(){function AbstractChosen(a,b){this.form_field=a,this.options=null!=b?b:{},AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return AbstractChosen.prototype.set_default_values=function(){var a=this;return this.click_test_action=function(b){return a.test_active_click(b)},this.activate_action=function(b){return a.activate_field(b)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},AbstractChosen.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+a.group_label+"</b>"+a.html:a.html},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(a){var b=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return b.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},AbstractChosen.prototype.input_blur=function(a){var b=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return b.blur_test()},100))},AbstractChosen.prototype.results_option_build=function(a){var b,c,d,e,f,g,h;for(b="",e=0,h=this.results_data,f=0,g=h.length;g>f&&(c=h[f],d="",d=c.group?this.result_add_group(c):this.result_add_option(c),""!==d&&(e++,b+=d),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c))),!(e>=this.max_shown_results));f++);return b},AbstractChosen.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.style.cssText=a.style,c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},AbstractChosen.prototype.result_add_group=function(a){var b,c;return(a.search_match||a.group_match)&&a.active_options>0?(b=[],b.push("group-result"),a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.innerHTML=a.search_text,a.title&&(c.title=a.title),this.outerHTML(c)):""},AbstractChosen.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},AbstractChosen.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(d=this.results_data,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.selected?e.push(a.selected=!1):e.push(void 0);return e},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.no_results_clear(),d=0,f=this.get_search_text(),a=f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(a,"i"),c=this.get_search_regex(a),l=this.results_data,j=0,k=l.length;k>j;j++)b=l[j],b.search_match=!1,e=null,this.include_option_in_results(b)&&(b.group&&(b.group_match=!1,b.active_options=0),null!=b.group_array_index&&this.results_data[b.group_array_index]&&(e=this.results_data[b.group_array_index],0===e.active_options&&e.search_match&&(d+=1),e.active_options+=1),b.search_text=b.group?b.label:b.html,(!b.group||this.group_search)&&(b.search_match=this.search_string_match(b.search_text,c),b.search_match&&!b.group&&(d+=1),b.search_match?(f.length&&(g=b.search_text.search(i),h=b.search_text.substr(0,g+f.length)+"</em>"+b.search_text.substr(g+f.length),b.search_text=h.substr(0,g)+"<em>"+h.substr(g)),null!=e&&(e.group_match=!0)):null!=b.group_array_index&&this.results_data[b.group_array_index].search_match&&(b.search_match=!0)));return this.result_clear_highlight(),1>d&&f.length?(this.update_results_content(""),this.no_results(f)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},AbstractChosen.prototype.get_search_regex=function(a){var b,c;return b=this.search_contains?"":"^",c=this.case_sensitive_search?"":"i",new RegExp(b+a,c)},AbstractChosen.prototype.search_string_match=function(a,b){var c,d,e,f;if(b.test(a))return!0;if(this.enable_split_word_search&&(a.indexOf(" ")>=0||0===a.indexOf("["))&&(d=a.replace(/\[|\]/g,"").split(" "),d.length))for(e=0,f=d.length;f>e;e++)if(c=d[e],b.test(c))return!0},AbstractChosen.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,d=this.form_field.options,b=0,c=d.length;c>b;b++)a=d[b],a.selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(a){return a.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},AbstractChosen.prototype.keyup_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(a.preventDefault(),this.results_showing)return this.result_select(a);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(a){var b=this;return setTimeout(function(){return b.results_search()},50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected?!1:!this.display_disabled_options&&a.disabled?!1:a.empty?!1:!0},AbstractChosen.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},AbstractChosen.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},AbstractChosen.prototype.search_results_touchend=function(a){return this.touch_started?this.search_results_mouseup(a):void 0},AbstractChosen.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:(b=document.createElement("div"),b.appendChild(a),b.innerHTML)},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)?!1:!0},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),a=jQuery,a.fn.extend({chosen:function(b){return AbstractChosen.browser_is_supported()?this.each(function(c){var d,e;return d=a(this),e=d.data("chosen"),"destroy"===b?void(e instanceof Chosen&&e.destroy()):void(e instanceof Chosen||d.data("chosen",new Chosen(this,b)))}):this}}),Chosen=function(c){function Chosen(){return b=Chosen.__super__.constructor.apply(this,arguments)}return d(Chosen,c),Chosen.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},Chosen.prototype.set_up_html=function(){var b,c;return b=["chosen-container"],b.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var a=this;return this.container.bind("touchstart.chosen",function(b){return a.container_mousedown(b),b.preventDefault()}),this.container.bind("touchend.chosen",function(b){return a.container_mouseup(b),b.preventDefault()}),this.container.bind("mousedown.chosen",function(b){a.container_mousedown(b)}),this.container.bind("mouseup.chosen",function(b){a.container_mouseup(b)}),this.container.bind("mouseenter.chosen",function(b){a.mouse_enter(b)}),this.container.bind("mouseleave.chosen",function(b){a.mouse_leave(b)}),this.search_results.bind("mouseup.chosen",function(b){a.search_results_mouseup(b)}),this.search_results.bind("mouseover.chosen",function(b){a.search_results_mouseover(b)}),this.search_results.bind("mouseout.chosen",function(b){a.search_results_mouseout(b)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(b){a.search_results_mousewheel(b)}),this.search_results.bind("touchstart.chosen",function(b){a.search_results_touchstart(b)}),this.search_results.bind("touchmove.chosen",function(b){a.search_results_touchmove(b)}),this.search_results.bind("touchend.chosen",function(b){a.search_results_touchend(b)}),this.form_field_jq.bind("chosen:updated.chosen",function(b){a.results_update_field(b)}),this.form_field_jq.bind("chosen:activate.chosen",function(b){a.activate_field(b)}),this.form_field_jq.bind("chosen:open.chosen",function(b){a.container_mousedown(b)}),this.form_field_jq.bind("chosen:close.chosen",function(b){a.input_blur(b)}),this.search_field.bind("blur.chosen",function(b){a.input_blur(b)}),this.search_field.bind("keyup.chosen",function(b){a.keyup_checker(b)}),this.search_field.bind("keydown.chosen",function(b){a.keydown_checker(b)}),this.search_field.bind("focus.chosen",function(b){a.input_focus(b)}),this.search_field.bind("cut.chosen",function(b){a.clipboard_event_checker(b)}),this.search_field.bind("paste.chosen",function(b){a.clipboard_event_checker(b)}),this.is_multiple?this.search_choices.bind("click.chosen",function(b){a.choices_click(b)}):this.container.bind("click.chosen",function(a){a.preventDefault()})},Chosen.prototype.destroy=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},Chosen.prototype.container_mousedown=function(b){return this.is_disabled||(b&&"mousedown"===b.type&&!this.results_showing&&b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(a){return"ABBR"!==a.target.nodeName||this.is_disabled?void 0:this.results_reset(a)},Chosen.prototype.search_results_mousewheel=function(a){var b;return a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b?(a.preventDefault(),"DOMMouseScroll"===a.type&&(b=40*b),this.search_results.scrollTop(b+this.search_results.scrollTop())):void 0},Chosen.prototype.blur_test=function(a){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},Chosen.prototype.close_field=function(){return a(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},Chosen.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(b){var c;return c=a(b.target).closest(".chosen-container"),c.length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=SelectParser.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),b=c+this.result_highlight.outerHeight(),b>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(f>c)return this.search_results.scrollTop(c)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(a){return this.search_results.html(a)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(a){var b;return this.form_field.tabIndex?(b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b):void 0},Chosen.prototype.set_label_behavior=function(){var b=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(a){return b.is_multiple?b.container_mousedown(a):b.activate_field()}):void 0},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c.length?(this.result_highlight=c,this.result_select(b),this.search_field.focus()):void 0},Chosen.prototype.search_results_mouseover=function(b){var c;return c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first(),c?this.result_do_highlight(c):void 0},Chosen.prototype.search_results_mouseout=function(b){return a(b.target).hasClass("active-result")?this.result_clear_highlight():void 0},Chosen.prototype.choice_build=function(b){var c,d,e=this;return c=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(b)+"</span>"),b.disabled?c.addClass("search-choice-disabled"):(d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index}),d.bind("click.chosen",function(a){return e.choice_destroy_link_click(a)}),c.append(d)),this.search_container.before(c)},Chosen.prototype.choice_destroy_link_click=function(b){return b.preventDefault(),b.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(a(b.target))},Chosen.prototype.choice_destroy=function(a){return this.result_deselect(a[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()):void 0},Chosen.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(a){var b,c;return this.result_highlight?(b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(this.choice_label(c)),(a.metaKey||a.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())):void 0},Chosen.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},Chosen.prototype.result_deselect=function(a){var b;return b=this.results_data[a],this.form_field.options[b.options_index].disabled?!1:(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},Chosen.prototype.get_search_text=function(){return a("<div/>").text(a.trim(this.search_field.val())).html()},Chosen.prototype.winnow_results_set_highlight=function(){var a,b;return b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),a=b.length?b.first():this.search_results.find(".active-result").first(),null!=a?this.result_do_highlight(a):void 0},Chosen.prototype.no_results=function(b){var c;return c=a('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),c.find("span").first().html(b),this.search_results.append(c),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result"),a.length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last(),a.length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.keydown_checker=function(a){var b,c;switch(b=null!=(c=a.which)?c:a.keyCode,this.search_field_scale(),8!==b&&this.pending_backstroke&&this.clear_backstroke(),b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},Chosen.prototype.search_field_scale=function(){var b,c,d,e,f,g,h,i,j;if(this.is_multiple){for(d=0,h=0,f="position:absolute; left: -1000px; top: -1000px; display:none;",g=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],i=0,j=g.length;j>i;i++)e=g[i],f+=e+":"+this.search_field.css(e)+";";return b=a("<div />",{style:f}),b.text(this.search_field.val()),a("body").append(b),h=b.width()+25,b.remove(),c=this.container.outerWidth(),h>c-10&&(h=c-10),this.search_field.css({width:h+"px"})}},Chosen}(AbstractChosen)}).call(this);!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function e(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,o){var r=["opacity",e,~~(100*t),i,o].join("-"),n=.01+i/o*100,s=Math.max(1-(1-t)/e*(100-n),t),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),f=a&&"-"+a+"-"||"";return p[r]||(c.insertRule("@"+f+"keyframes "+r+"{0%{opacity:"+s+"}"+n+"%{opacity:"+t+"}"+(n+.01)+"%{opacity:1}"+(n+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",c.cssRules.length),p[r]=1),r}function o(t,e){var i,o,r=t.style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<f.length;o++)if(i=f[o]+e,void 0!==r[i])return i}function r(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function n(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function s(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function a(t){if(void 0===this)return new a(t);this.opts=n(t||{},a.defaults,d)}var l,f=["webkit","Moz","ms","O"],p={},c=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};a.defaults={},n(a.prototype,{spin:function(e){this.stop();var i,o,n=this,a=n.opts,f=n.el=r(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),p=a.radius+a.length+a.width;if(e&&(e.insertBefore(f,e.firstChild||null),o=s(e),i=s(f),r(f,{left:("auto"==a.left?o.x-i.x+(e.offsetWidth>>1):parseInt(a.left,10)+p)+"px",top:("auto"==a.top?o.y-i.y+(e.offsetHeight>>1):parseInt(a.top,10)+p)+"px"})),f.setAttribute("role","progressbar"),n.lines(f,n.opts),!l){var c,d=0,u=(a.lines-1)*(1-a.direction)/2,h=a.fps,y=h/a.speed,m=(1-a.opacity)/(y*a.trail/100),v=y/a.lines;!function t(){d++;for(var e=0;e<a.lines;e++)c=Math.max(1-(d+(a.lines-e)*v)%y*m,a.opacity),n.opacity(f,e*a.direction+u,c,a);n.timeout=n.el&&setTimeout(t,~~(1e3/h))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,n){function s(e,i){return r(t(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*f+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.corners*n.width>>1)+"px"})}for(var a,f=0,p=(n.lines-1)*(1-n.direction)/2;f<n.lines;f++)a=r(t(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:l&&i(n.opacity,n.trail,p+f*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&e(a,r(s("#000","0 0 4px #000"),{top:"2px"})),e(o,e(a,s(n.color,"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var u=r(t("group"),{behavior:"url(#default#VML)"});return!o(u,"transform")&&u.adj?function(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}c.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(t,o){function n(){return r(i("group",{coordsize:f+" "+f,coordorigin:-l+" "+-l}),{width:f,height:f})}function s(t,s,a){e(c,e(r(n(),{rotation:360/o.lines*t+"deg",left:~~s}),e(r(i("roundrect",{arcsize:o.corners}),{width:l,height:o.width,left:o.radius,top:-o.width>>1,filter:a}),i("fill",{color:o.color,opacity:o.opacity}),i("stroke",{opacity:0}))))}var a,l=o.length+o.width,f=2*l,p=2*-(o.width+o.length)+"px",c=r(n(),{position:"absolute",top:p,left:p});if(o.shadow)for(a=1;a<=o.lines;a++)s(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=o.lines;a++)s(a);return e(t,c)},a.prototype.opacity=function(t,e,i,o){var r=t.firstChild;o=o.shadow&&o.lines||0,r&&e+o<r.childNodes.length&&(r=r.childNodes[e+o],r=r&&r.firstChild,(r=r&&r.firstChild)&&(r.opacity=i))}}():l=o(u,"animation"),a});!function(e){if("object"==typeof exports)e(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define(["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,n){e.fn.spin=function(s,i){return this.each(function(){var t=e(this),r=t.data();if(r.spinner&&(r.spinner.stop(),delete r.spinner),!1!==s){if(s=e.extend({color:i||t.css("color")},e.fn.spin.presets[s]||s),void 0!==s.right&&void 0!==s.length&&void 0!==s.width&&void 0!==s.radius){var p=t.css("padding-left");p=void 0===p?0:parseInt(p,10),s.left=t.outerWidth()-2*(s.length+s.width+s.radius)-p-s.right,delete s.right}r.spinner=new n(s).spin(this)}})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),function(e){e.fn.spin.presets.wp={trail:60,speed:1.3},e.fn.spin.presets.small=e.extend({lines:8,length:2,width:2,radius:3},e.fn.spin.presets.wp),e.fn.spin.presets.medium=e.extend({lines:8,length:4,width:3,radius:5},e.fn.spin.presets.wp),e.fn.spin.presets.large=e.extend({lines:10,length:6,width:4,radius:7},e.fn.spin.presets.wp),e.fn.spin.presets["small-left"]=e.extend({left:5},e.fn.spin.presets.small),e.fn.spin.presets["small-right"]=e.extend({right:5},e.fn.spin.presets.small),e.fn.spin.presets["medium-left"]=e.extend({left:5},e.fn.spin.presets.medium),e.fn.spin.presets["medium-right"]=e.extend({right:5},e.fn.spin.presets.medium),e.fn.spin.presets["large-left"]=e.extend({left:5},e.fn.spin.presets.large),e.fn.spin.presets["large-right"]=e.extend({right:5},e.fn.spin.presets.large)}(jQuery)